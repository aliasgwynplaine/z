<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>zettelkasten</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">zettelkasten</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>#index</p>
<h1 id="index"><a class="header" href="#index">index</a></h1>
<hr />
<p>este es el índice</p>
<p>sistemas operativos <a href="1-systemes-dexploitation.html">1-systemes-dexploitation</a></p>
<p>algo <a href="2-algorithmes.html">2-algorithmes</a></p>
<p>information security <a href="3-securite-dinformation.html">3-securite-dinformation</a></p>
<p>cyber security <a href="4-cyber-security.html">4-cyber-security</a></p>
<p>ordinateurs <a href="5-computers.html">5-computers</a></p>
<p>math <a href="6-mathematics.html">6-mathematics</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computation #ordinateurs #fr</p>
<h1 id="systèmes-dexploitation"><a class="header" href="#systèmes-dexploitation">Systèmes d'exploitation</a></h1>
<hr />
<p>C'est le programme ou ensemble de programmes qui gère l'utilisation des ressources d'un ordinateur par des logiciels applicatifs. On peut dire que le OS est l'interface entre le matériel et les applicatifs</p>
<h2 id="parties"><a class="header" href="#parties">Parties</a></h2>
<ul>
<li>kernel ou noyau <a href="1d-kernel.html">1d-kernel</a></li>
<li>services <a href="1p-kernel-services.html">1p-kernel-services</a></li>
<li>drivers ou pilotes <a href="1n-drivers.html">1n-drivers</a></li>
<li>user-land <a href="1o-userland.html">1o-userland</a></li>
</ul>
<h2 id="exemples"><a class="header" href="#exemples">exemples</a></h2>
<ul>
<li>UNIX <a href="1k-unix.html">1k-unix</a></li>
<li>GNU/Linux <a href="1e-gnu-linux.html">1e-gnu-linux</a></li>
<li>MacOS <a href="1f-macOS.html">1f-macOS</a></li>
<li>Android <a href="1g-android.html">1g-android</a></li>
<li>Windows <a href="1h-windows.html">1h-windows</a></li>
<li>FreeDOS <a href="1j-freedos.html">1j-freedos</a></li>
</ul>
<h2 id="concepts"><a class="header" href="#concepts">Concepts</a></h2>
<ul>
<li>compilation <a href="1a-compilation.html">1a-compilation</a></li>
<li>EFL format <a href="1c2-format-ELF.html">1c2-format-ELF</a></li>
<li>système des fichiers <a href="1c-systeme-des-fichiers.html">1c-systeme-des-fichiers</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#compilation #programmes #ordinateurs #fr</p>
<h1 id="compilation"><a class="header" href="#compilation">compilation</a></h1>
<hr />
<p>c'est le processus dont on utilise pour transformer un code source en un fichier binaire executable (appelé <a href="1a2-code-objet.html">code objet</a>).</p>
<p>Un des languages compilées le plus connue est C. Concrètement, le GNU C Compiler gcc (<a href="1a3-gcc.html">1a3-gcc</a>), bien qu'il y en ait d'autres.</p>
<p>Par contre, il y a aussi des langages interprétées (<a href="1m-langages-interpretees.html">1m-langages-interpretees</a>).</p>
<h2 id="outils"><a class="header" href="#outils">Outils</a></h2>
<p>puedes usar <a href="1a1-nm.html"><code>nm</code></a> para inspeccionar la tabla de símbolos de un <a href="1c2-format-ELF.html">ejecutable ELF</a>... si no has usado <code>strip</code>.</p>
<p>On peut utiliser <a href="1a4-make.html">1a4-make</a> pour automatiser la compilation de plusieurs fichiers.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#linux #unix #commands #fr</p>
<h1 id="nm"><a class="header" href="#nm"><code>nm</code></a></h1>
<p>De la <code>manpage</code>:</p>
<div style="break-before: page; page-break-before: always;"></div><p>#computation #compilation #fr</p>
<h1 id="code-objet"><a class="header" href="#code-objet">code objet</a></h1>
<hr />
<p>C'est un ensemble des instructions normalement en code binaire.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#c #gcc #gnu #linux #ordinateurs #en</p>
<h1 id="gnu-c-compiler"><a class="header" href="#gnu-c-compiler">GNU C Compiler</a></h1>
<hr />
<p>It's the C compiler of the GNU project.</p>
<ul>
<li>storage class in the compiler <a href="1a3a-gcc-storage-class.html">1a3a-gcc-storage-class</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#c #gcc #gnu #linux #ordinateurs #en #keywords</p>
<h1 id="gcc-storage-class"><a class="header" href="#gcc-storage-class">gcc storage class</a></h1>
<h3 id="static1"><a class="header" href="#static1"><code>static</code><sup class="footnote-reference"><a href="#1">1</a></sup></a></h3>
<ol>
<li>variable: stores the variable <em>statically</em> allocated in memory instead of automatically. As a consequence, the variable will preserve its value between calls. See <code>strtok</code> implementation. See storage class. <sup class="footnote-reference"><a href="#2">2</a></sup></li>
<li>function: The function will be visible only for functions from the same file. You can find lots of this folks at linux module programming.</li>
<li>arrays: set the minimum size of an array
<pre><code class="language-c">void setpasswd(char password[static 16]);
</code></pre>
</li>
</ol>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>https://stackoverflow.com/questions/572547/what-does-static-mean-in-c</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>https://web.archive.org/web/20080624102132/http://www.space.unibe.ch/comp_doc/c_manual/C/CONCEPT/storage_class.html</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#compilation #programmes #ordinateurs #en #make</p>
<h1 id="make"><a class="header" href="#make">make</a></h1>
<hr />
<p>The  make  utility  will determine automatically which pieces of a large program need to be recompiled, and issue the commands to recompile them.</p>
<p><code>make</code> looks for instructions in a file named <code>Makefile</code>.</p>
<h2 id="obj-m"><a class="header" href="#obj-m">obj-m</a></h2>
<p>The <code>obj-m</code>-thing<sup class="footnote-reference"><a href="#1">1</a></sup></p>
<pre><code class="language-make">obj-m += nom.o
</code></pre>
<p>When the module is built from multiple sources, an additional line is needed listing the files:</p>
<pre><code class="language-make">&lt;module_name&gt;-y := &lt;src1&gt;.o &lt;src2&gt;.o ...
</code></pre>
<p>For detailed info about this you can refer <a href="https://www.kernel.org/doc/Documentation/kbuild/modules.txt">here</a></p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>https://stackoverflow.com/questions/57839941/what-is-the-meaning-of-obj-m-in-linux-device-driver-makefile</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#computation #ordinateurs #fr</p>
<h1 id="systèmes-des-fichiers"><a class="header" href="#systèmes-des-fichiers">Systèmes des fichiers</a></h1>
<hr />
<p>On utilise le terme pour designer l'organisation des informations de fichiers <a href="1c1-fichier.html">1c1-fichier</a> dans un dispositif de stockage, mais aussi utilisé pour designer l'organisation des fichiers (et repertoires) dans le système d'exploitation.</p>
<h2 id="exemples-des-fichiers-exécutables"><a class="header" href="#exemples-des-fichiers-exécutables">exemples des fichiers exécutables</a></h2>
<ul>
<li>ELF <a href="1c2-format-ELF.html">1c2-format-ELF</a></li>
<li>Mach-O <a href="1c3-format-Mach-O.html">1c3-format-Mach-O</a></li>
<li>PE <a href="1c4-format-PE.html">1c4-format-PE</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#informatics #computation #os</p>
<h1 id="fichier"><a class="header" href="#fichier">fichier</a></h1>
<hr />
<p>C'est un abstraction qui consiste en un ensemble d'octets encodant des informations. Les informations ont de sense a cause d'un format</p>
<ul>
<li><a href="1c2-format-ELF.html">1c2-format-ELF</a></li>
<li><a href="1c3-format-Mach-O.html">1c3-format-Mach-O</a></li>
<li><a href="1c4-format-PE.html">1c4-format-PE</a></li>
<li><a href="1c5-format-FAT.html">1c5-format-FAT</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#unix #linux #ordinateurs #fr</p>
<h1 id="formato-elf"><a class="header" href="#formato-elf">formato ELF</a></h1>
<p>C'est le format des binaires exécutables dans les <a href="1c-systeme-des-fichiers.html">systèmes UNIX</a>.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#macos #ordinateurs #fr</p>
<h1 id="mach-o-format"><a class="header" href="#mach-o-format">Mach-O format</a></h1>
<hr />
<p>C'est le format de fichiers</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#windows #ordinateurs</p>
<h1 id="portable-executable-pe"><a class="header" href="#portable-executable-pe">Portable Executable (PE)</a></h1>
<hr />
<p>Format de fichiers exécutables du système d'exploitation windows.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#windows #ordinateurs #fr</p>
<h1 id="fat"><a class="header" href="#fat">FAT</a></h1>
<hr />
<p><em>File Allocation Table</em>. Créé initialement pour MS-DOS <a href="1m-msdos.html">1m-msdos</a>.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#systemesdexploitation #kernel #ordinateurs #fr</p>
<h1 id="kernel"><a class="header" href="#kernel">kernel</a></h1>
<hr />
<p>C'est la partie du système d'exploitation qui gère les ressources de l'ordinateur et qui s'execute en mode système. Notamment, le noyau fournit des mécanismes d'abstraction de la mémoire, des processeurs et des périphériques.</p>
<p>Le kernel est aussi un programme et doit être codé, compilé et il est mappé dans la mémoire vive tant qu'on utilise le système d'exploitation. Pour des raisons de sécurité, l'adresse de base du kernel n'est pas fixée dans le mapping. <a href="1d12-KASLR.html">1d12-KASLR</a></p>
<p>Quand un programme ou application a besoin d'accès mémoire ou doit se communiquer avec un périphérique, il doit demander au kernel pour faire operation pour lui. C'est qu'on connais comme appel système (<a href="1l-syscall.html">1l-syscall</a>).</p>
<p>classement des noyaux <a href="1d1-kernel-structure-types.html">1d1-kernel-structure-types</a>.</p>
<h2 id="exemples-1"><a class="header" href="#exemples-1">exemples</a></h2>
<ul>
<li>linux <a href="1d8-linux.html">1d8-linux</a></li>
<li>windows NT kernel <a href="1d9-windows-nt-kernel.html">1d9-windows-nt-kernel</a></li>
<li>XNU <a href="1d10-xnu.html">1d10-xnu</a></li>
<li>unix kernel <a href="1d11-unix-kernel.html">1d11-unix-kernel</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #security #memorycorruption</p>
<h1 id="kernel-classement"><a class="header" href="#kernel-classement">kernel classement</a></h1>
<hr />
<p>Les noyaux peuvent être classifiés en fonction de leur structure et leur conception par rapport au système d'exploitation.</p>
<ul>
<li>noyau monolithiques <a href="1d2-kernel-monolithique.html">1d2-kernel-monolithique</a></li>
<li>micro-noyau <a href="1d3-micro-kernel.html">1d3-micro-kernel</a></li>
<li>noyau monolithique modulaire <a href="1d4-kernel-monolithique-modulaire.html">1d4-kernel-monolithique-modulaire</a></li>
<li>micro-noyau hybride <a href="1d5-micro-kernel-hybride.html">1d5-micro-kernel-hybride</a></li>
<li>exokernel <a href="1d6-exokernel.html">1d6-exokernel</a></li>
<li>unikernel <a href="1d7-unikernel.html">1d7-unikernel</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#fr #kernel #todo</p>
<h1 id="unix-kernel"><a class="header" href="#unix-kernel">unix kernel</a></h1>
<hr />
<p>uni devices <a href="1d11a-unix-drivers.html">1d11a-unix-drivers</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#unix #kernel #drivers #fr</p>
<h1 id="pilotes-unix"><a class="header" href="#pilotes-unix">pilotes UNIX</a></h1>
<hr />
<p>Les dispositifs étaient identifiés par deux numéros: major et minor.
major -&gt; type de service
minor -&gt; instance du device</p>
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #informatics #computerscience #fr</p>
<h1 id="kernel-monolithique"><a class="header" href="#kernel-monolithique">Kernel monolithique</a></h1>
<hr />
<p>Compilé statiquement sur une seule binaire et il est chargé entièrement en mémoire. Ils sont généralement optimisés pour une architecture especifique. En consequence, on a bon performance, mais une grand surface d'attaque et portabilité limité.</p>
<h2 id="exemples-2"><a class="header" href="#exemples-2">exemples</a></h2>
<ul>
<li>UNIX <a href="1k-unix.html">1k-unix</a></li>
<li></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #fr</p>
<h1 id="micro-noyau"><a class="header" href="#micro-noyau">micro-noyau</a></h1>
<hr />
<p>Le µ-noyau minimise les fonctionnalités intégrées au noyau en plaçant la plus grande partie des <em>services</em> du système d'exploitation à l’extérieur du noyau. C'est-à-dire, les services sont exécutés en mode S.</p>
<p>En consequence, la sécurité est renforcé, aussi que la souplesse et la portabilité. Par contre, on perde en performance à cause d'avoir besoin de basculer entre mode S et mode U. Aussi, on a besoin d'standardiser une API afin que les services interagissent avec le µ-noyau.</p>
<p>On appelle <strong>µ-noyau enrichi</strong> à l'ensemble logiciel formé par le µ-noyau et ses services.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #fr</p>
<h1 id="noyau-monolithique-modulaire"><a class="header" href="#noyau-monolithique-modulaire">Noyau monolithique modulaire</a></h1>
<hr />
<p>Les <em>services</em> du système d'exploitation se transforment en modules qui sont mis dedans le noyau dynamiquement. Les services sont exécutés en mode S une fois chargés et partagent le même space d'adressage que le coeur du noyau.</p>
<p>En tant que les modules sont exécutés en mode S, l'aspect sécurité peut être compromis.</p>
<h2 id="exemples-3"><a class="header" href="#exemples-3">exemples</a></h2>
<ul>
<li>linux <a href="1d8-linux.html">1d8-linux</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #fr #systemesdexploitation</p>
<h1 id="micro-kernel-hybride"><a class="header" href="#micro-kernel-hybride">micro-kernel hybride</a></h1>
<hr />
<p>C'est un µ-noyau qui intègre directement certains services cruciaux, mais le reste de services restants sont à l’extérieur du noyau.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#exokernel #kernel #fr</p>
<h1 id="exokernel"><a class="header" href="#exokernel">exokernel</a></h1>
<hr />
<p>micro-kernel minimum qui apporte accès au hardware sans imposer politiques d'haute niveau. Les applications ont plus de flexibilité au moment d'interagir avec le hardware mais, par contre, les applications peuvent être plus laborieuses à faire.</p>
<p>Par example: l'exokernel apporte accès secure au disque en évitant les accès non autorisés; et la manière dont l'information du disque est abstrait dépendra des applications ou la bibliothèque dont l'application en particulier est en train d'utiliser.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#unikernel #kernel #systemesdexploitation #fr</p>
<h1 id="unikernel"><a class="header" href="#unikernel">unikernel</a></h1>
<hr />
<p>C'est un noyau spécialisée pour une application ou une nombre très limité d'applications. Dans ce paradigme, tous les applications partage le même space d'adressage. On obtient une système d'exploitation qui a besoin de peu space et avec une surface d'attaque réduit. Attractifs pour microservices.</p>
<p>Tant les unikernels comme les exokernels appartiennent a la categorie des systèmes d'exploitation bibliothèque.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #linux #fr #todo #en</p>
<h1 id="linux-kernel"><a class="header" href="#linux-kernel">linux kernel</a></h1>
<hr />
<ul>
<li>linux kernel architecture <a href="1d8h-linux-kernel-architeture.html">1d8h-linux-kernel-architeture</a></li>
<li>linux file struct <a href="1d8f-linux-file-struct.html">1d8f-linux-file-struct</a></li>
<li>linux drivers <a href="1d8a-linux-drivers.html">1d8a-linux-drivers</a></li>
<li>linux modules <a href="1d8e-linux-modules.html">1d8e-linux-modules</a></li>
<li>development <a href="1d8i-linux-kernel-development.html">1d8i-linux-kernel-development</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #drivers #fr #sorbonne</p>
<h1 id="pilotes-dans-linux"><a class="header" href="#pilotes-dans-linux">pilotes dans linux</a></h1>
<hr />
<p>Les pilotes sont associés au dispositifs (devices) et on le traitera de manière indifférencié.</p>
<p>Les pilotes sont accessibles dans la partition devfs dans <code>/dev/</code>.</p>
<ul>
<li>character -&gt; échange d'octets (char) <a href="1d8b-linux-char-device.html">1d8b-linux-char-device</a></li>
<li>block -&gt; échange des bloques d'octets <a href="1d8c-linux-block-devices.html">1d8c-linux-block-devices</a></li>
<li>network -&gt; contrôle des périphériques réseau <a href="1d8d-linux-network-device.html">1d8d-linux-network-device</a></li>
</ul>
<p>L'identification des pilotes est fait comme dans UNIX: avec le major et minor <a href="1d11a-unix-drivers.html">1d11a-unix-drivers</a>.</p>
<p>Concevoir un pilote de périphérique <a href="1d8a1-linux-drivers-programming.html">1d8a1-linux-drivers-programming</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #programming #fr #drivers</p>
<h1 id="linux-drivers-programming"><a class="header" href="#linux-drivers-programming">Linux drivers programming</a></h1>
<hr />
<h2 id="guidelines"><a class="header" href="#guidelines">Guidelines</a></h2>
<ul>
<li>Définir les services attendus</li>
<li>Doit réutiliser le code des autres sous-systèmes.</li>
<li>Le code doit être réentrant. Il faut éviter l'usage des variables globales dans les fonctions (voir <code>strtok(...)</code>, par example).</li>
</ul>
<p>Au niveau pratique, il y a beaucoup de similitudes entre écrire un driver et écrire un module.</p>
<ul>
<li>allocation des numéros major et minor<a href="1d8a2-linux-drivers-major-minor-allocation.html">1d8a2-linux-drivers-major-minor-allocation</a></li>
<li>la structures  <code>file_operations</code> <a href="1d8a3-linux-drivers-file-operations.html">1d8a3-linux-drivers-file-operations</a></li>
<li></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><p>#kernel #programming #fr #drivers #fileops</p>
<h1 id="linux-drivers-programming-1"><a class="header" href="#linux-drivers-programming-1">Linux drivers programming</a></h1>
<hr />
<p>La structure <code>file_operations</code> est défini dans <code>linux/fs.h</code> est il a des champs qui sont des pointeurs aux fonctions. Chaque fichier char associé à un driver est associé a une structure <code>file_operations</code> <a href="1d8f-linux-file-struct.html">1d8f-linux-file-struct</a>.</p>
<pre><code class="language-c"> struct file_operations {
	struct module *owner;
	loff_t (*llseek) (struct file *, loff_t, int);
	ssize_t (*read) (struct file *, char __user *, size_t, loff_t *);
	ssize_t (*write) (struct file *, const char __user *, size_t, loff_t *);
	ssize_t (*read_iter) (struct kiocb *, struct iov_iter *);
	ssize_t (*write_iter) (struct kiocb *, struct iov_iter *);
	long (*unlocked_ioctl) (struct file *, unsigned int, unsigned long);
	long (*compat_ioctl) (struct file *, unsigned int, unsigned long);
	int (*open) (struct inode *, struct file *);
	int (*release) (struct inode *, struct file *);
	/* ... */
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #programming #fr #drivers #fileops #char</p>
<h1 id="linux-char-device-programming"><a class="header" href="#linux-char-device-programming">Linux char device programming</a></h1>
<hr />
<h2 id="les-fonctions"><a class="header" href="#les-fonctions">les fonctions</a></h2>
<p>le décorateur <code>__user</code> indique que les pointeurs sont dans l'espace utilisateur. C'est-à-dire, il est possible qu'il soit pas disponible ni en RAM. Utilise les fonctions de <code>asm/uaccess.h</code> (<a href="1d8a3a1-linux-driver-uaccess.html">1d8a3a1-linux-driver-uaccess</a>) pour transférer la mémoire entre espace kernel et espace utilisateur.</p>
<p>Il est préférable d'implementer les fonctions en suivant certaines directives<sup class="footnote-reference"><a href="#1">1</a></sup></p>
<ul>
<li>open <a href="1d8a3b-linux-driver-char-device-open.html">1d8a3b-linux-driver-char-device-open</a></li>
<li>release (close) <a href="1d8a3c-linux-driver-char-device-close.html">1d8a3c-linux-driver-char-device-close</a></li>
<li>read <a href="1d8a3d-linux-driver-char-device-read.html">1d8a3d-linux-driver-char-device-read</a></li>
<li>write <a href="1d8a3e-linux-driver-char-device-write.html">1d8a3e-linux-driver-char-device-write</a></li>
<li></li>
</ul>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>https://static.lwn.net/images/pdf/LDD3/ch03.pdf</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #programming #fr #drivers #fileops #char</p>
<h1 id="linux---uaccess-fonctions"><a class="header" href="#linux---uaccess-fonctions">linux - uaccess fonctions</a></h1>
<hr />
<p>This functions are in <code>linux/uaccess.h</code></p>
<pre><code class="language-c">unsigned long copy_to_user(void __user *to, const void *from, 
						   unsigned long count);
unsigned long copy_from_user(void *to, const void __user *from, 
						     unsigned long count);
</code></pre>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #programming #fr #drivers #fileops #char</p>
<h1 id="linux-char-device---open"><a class="header" href="#linux-char-device---open">linux char device - open</a></h1>
<hr />
<p>On doit performer le suivant:</p>
<ul>
<li>tester erreurs liées au dispositif specific.</li>
<li>initialiser le dispositif si jamais il est la premiere fois qu'il est ouvert</li>
<li>metre a jour le pointeur <code>f_op</code>, si nécessaire.</li>
<li>faire l'allocation de la memoire à mettre dans <code>filp-&gt;private_data</code>, si nécessaire.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #programming #fr #drivers #fileops #char</p>
<h1 id="linux-char-device---close"><a class="header" href="#linux-char-device---close">linux char device - close</a></h1>
<hr />
<p>On doit performer le suivant:</p>
<ul>
<li>désallouer la mémoire, si nécessaire.</li>
<li>éteindre le dispositif si jamais on est les derniers à l'utiliser.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #programming #fr #drivers #fileops #char</p>
<h1 id="linux-char-device---read"><a class="header" href="#linux-char-device---read">linux char device - read</a></h1>
<hr />
<pre><code class="language-c">ssize_t read(struct file *filp, char __user *buff, size_t count, loff_t *offp); 
</code></pre>
<ul>
<li><code>buff</code>. cette variable pointe vers l'adresse mémoire où les données lues devraient être placées.</li>
<li><code>count</code>. c'est la taille de la donnée à transférer</li>
<li><code>offp</code>. indiques la position dont l'usager accede.</li>
</ul>
<h2 id="la-valeur-de-retourne"><a class="header" href="#la-valeur-de-retourne">La valeur de retourne</a></h2>
<p>interpreté pour les applications</p>
<ul>
<li>si elle est égale à <code>count</code>, donc le nombre de octets demandé ont été transmit.</li>
<li>s elle est positive, mais plus petite que <code>count</code>, donc on se sont transmit qu'une partie des octets demandés.</li>
<li>si elle est égale a 0, donc on a trouvé <code>EOF</code> mais on a rien lu</li>
<li>si elle est négative, donc erreur. Regarde <code>linux/errno.h</code> <a href="1d8g-linux-errno.html">1d8g-linux-errno</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #programming #fr #drivers #fileops #char</p>
<h1 id="linux-char-device---write"><a class="header" href="#linux-char-device---write">linux char device - write</a></h1>
<hr />
<pre><code class="language-c">ssize_t write(struct file *filp, const char __user *buff, size_t count, loff_t *offp);
</code></pre>
<ul>
<li><code>buff</code>. cette variable pointe vers l'adresse mémoire celui des données qu'on va transférer au dispositif.</li>
<li><code>count</code>. c'est la taille de la donnée à transférer</li>
<li><code>offp</code>. indiques la position dont l'usager accede.</li>
</ul>
<h1 id="la-valeur-de-retourne-1"><a class="header" href="#la-valeur-de-retourne-1">la valeur de retourne</a></h1>
<ul>
<li>si elle est égale à <code>count</code>, donc le nombre de octets demandé ont été transmit.</li>
<li>s elle est positive, mais plus petite que <code>count</code>, donc on se sont transmit qu'une partie des octets demandés.</li>
<li>si elle est égale a 0, donc on a rien écrit.</li>
<li>si elle est négative, donc erreur. Regarde <code>linux/errno.h</code> <a href="1d8g-linux-errno.html">1d8g-linux-errno</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#linux #kernel #fr</p>
<h1 id="linux-character-device"><a class="header" href="#linux-character-device">linux character device</a></h1>
<hr />
<p>/dev/mem -&gt;
/dev/kmem</p>
<p>linux driver char device programming <a href="1d8a3a-linux-drivers-char-device-programming.html">1d8a3a-linux-drivers-char-device-programming</a></p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>linux kernel <code>Documentation/devices.txt</code></p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#linux #modules #kernel #fr #sorbonne</p>
<h1 id="linux-modules"><a class="header" href="#linux-modules">Linux modules</a></h1>
<hr />
<p>Les modules du linux ajoute des services dans le noyau: pilotes <a href="1d8a-linux-drivers.html">1d8a-linux-drivers</a>, appels systèmes, implementations des protocoles réseau.</p>
<p>Dans linux, il peut être chargé ou déchargé dynamiquement. Les modules s'execute en mode système.</p>
<p><em>cheat-sheet</em>  on linux module development <a href="https://cs.xn--ida.live/linux-kernel-modules.html">here</a></p>
<p>Les modules linux doivent toujours avoir une fonction d'initialisation et une fonction de sortie:</p>
<pre><code class="language-c">/* headers here */

static int __init mod_init(void) { /* ... */ }

static void __exit mod_cleanup(void) { /* ... */ }

module_init(mod_init);
module_exit(mod_cleanup);
</code></pre>
<h2 id="module-dependencies"><a class="header" href="#module-dependencies">Module dependencies</a></h2>
<p>If a module X uses at least one symbol from module Y, then X depends on Y.
The dependencies are automatically inferred when compiled and available at <code>/lib/module/&lt;version&gt;/module.dep</code> generated by <code>depmod</code>.</p>
<h3 id="building-a-module"><a class="header" href="#building-a-module">Building a module</a></h3>
<p>The running kernel is deployed with a generic <code>Makefile</code> <sup class="footnote-reference"><a href="#1">1</a></sup> <a href="1a4-make.html">1a4-make</a></p>
<pre><code class="language-bash">make -C /lib/module/\\((uname -r)/build M=\\)PWD
</code></pre>
<p>This following Makefile can be used to compile a kernel module:</p>
<pre><code class="language-make">KERNELDIR_LKP ?= /lib/modules/$(shell uname -r)/build

obj-m += helloWorld.o

all:
	make -C \\((KERNELDIR_LKP) M=\\)$PWD modules

clean:
	make -C \\((KERNELDIR_LKP) M=\\)$PWD clean

</code></pre>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>https://www.kernel.org/doc/Documentation/kbuild/modules.txt</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #linux #fr #todo #fileops #file</p>
<h1 id="structure-file"><a class="header" href="#structure-file">structure file</a></h1>
<hr />
<p>C'est la structure qui gère les fichiers ouverts dans le noyau linux.</p>
<pre><code class="language-c">struct file {
	struct list_head       f_list;        /* list of file objects */
	struct dentry          *f_dentry;     /* associated dentry object */
	struct vfsmount        *f_vfsmnt;     /* associated mounted fs */
	struct file_operations *f_op;         /* file operations table */
	atomic_t               f_count;       /* file object's usage count */
	unsigned int           f_flags;       /* flags specified on open */
	mode_t                 f_mode;        /* file access mode */
	loff_t                 f_pos;         /* file offset (file pointer) */
	struct fown_struct     f_owner;       /* owner data for signals */
	unsigned int           f_uid;         /* user's UID */
	unsigned int           f_gid;         /* user's GID */
	int                    f_error;       /* error code */
	struct file_ra_state   f_ra;          /* read-ahead state */
	unsigned long          f_version;     /* version number */
	void                   *f_security;   /* security module */
	void                   *private_data; /* tty driver hook */
	struct list_head       f_ep_links;    /* list of eventpoll links */
	spinlock_t             f_ep_lock;     /* eventpoll lock */
	struct address_space   *f_mapping;    /* page cache mapping */
};
</code></pre>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #linux #fr #todo #en #sorbonne</p>
<h1 id="linux-kernel-architecture-1"><a class="header" href="#linux-kernel-architecture-1">Linux kernel architecture <sup class="footnote-reference"><a href="#1">1</a></sup></a></h1>
<hr />
<p>Linux offers six main functions</p>
<ul>
<li>Process management <a href="1d8h2-linux-process.html">1d8h2-linux-process</a></li>
<li>Memory management <a href="1d8h3-linux-memory-management.html">1d8h3-linux-memory-management</a></li>
<li>Network management</li>
<li>Storage management</li>
<li>System interface</li>
<li>Human interface</li>
</ul>
<p>through five abstraction layers:</p>
<ol>
<li>
<p>User space interfaces</p>
<p>System calls, procfs, sysfs, device files, …</p>
</li>
<li>
<p>Virtual subsystems <a href="1d8h1-pseudo-file-systems.html">1d8h1-pseudo-file-systems</a></p>
<p>Virtual memory, virtual filesystem, network protocols, …</p>
</li>
<li>
<p>Functional subsystems</p>
<p>Filesystems, memory allocators, scheduler, …</p>
</li>
<li>
<p>Devices control</p>
<p>Interrupts, generic drivers, block devices, …</p>
</li>
<li>
<p>Hardware interfaces</p>
<p>Device drivers, architecture-specific code, …</p>
</li>
</ol>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>https://teaching.os.rwth-aachen.de/LKP/lecture/lkp-lecture.html#/linux-kernel-architecture
linux kernel programming course</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#os #linux #sorbonne #en #kernel</p>
<h1 id="pseudo-file-systems"><a class="header" href="#pseudo-file-systems">Pseudo file systems</a></h1>
<hr />
<h2 id="using-pseudo-file-systems"><a class="header" href="#using-pseudo-file-systems">using pseudo file systems</a></h2>
<p>the pseudo file system has to be enabled and mounted before being used</p>
<ol>
<li>Check if the kernel has been build with the pseudo file system</li>
<li>mount the pseudo file system</li>
<li>have fun</li>
</ol>
<p>in-memory file system <a href="1d8h1a-ramfs.html">1d8h1a-ramfs</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h2>#pseudofilesystem #linux #kernel #en #sorbonne
in-memory file system</h2>
<p><code>ramfs</code> (ram based file system) is a file system not backed by  a storage device: stored completely in memory or computed when accessed.</p>
<p>Examples: procfs, sysfs, configfs, debugfs, devfs, tmpfs...</p>
<p>Proc: user apps can access the files of the ramfs with the posix API (read, write, seek,...)</p>
<p>Con: These mechanisms are synchronous from user to kernel, but asynchronous in the other direction, <em>i.e.</em>, user space applications cannot be notified when the value represented by a file changes in memory.</p>
<h2 id="ramfs-representing-the-kernel-data-or-conf"><a class="header" href="#ramfs-representing-the-kernel-data-or-conf">ramfs representing the kernel data or conf</a></h2>
<p>proc file system <a href="1d8h1a1-procfs.html">1d8h1a1-procfs</a></p>
<p>sys file system <a href="1d8h1a2-sysfs.html">1d8h1a2-sysfs</a></p>
<p>config file system <a href="1d8h1a3-configfs.html">1d8h1a3-configfs</a></p>
<p>debug file system <a href="1d8h1a4-debugfs.html">1d8h1a4-debugfs</a></p>
<p>#todo: ioctl ? read ? fileoperations ?</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #proc #filesystem #ramfs</p>
<h1 id="procfs"><a class="header" href="#procfs">procfs</a></h1>
<hr />
<p>mounted in <code>/proc</code>. Meant to be used for export information about processes but used for exporting kernel data.</p>
<ul>
<li>pros: well documented</li>
<li>cons: no real structure enforced
There are two APIs:</li>
<li>proc_fs API
<ul>
<li>legacy</li>
<li>files are limited to one page (<code>PAGE_SIZE</code>)</li>
</ul>
</li>
<li>seq_file API
<ul>
<li>allows larger data to be exported</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>Successor de <code>procfs</code>, mounted in <code>/sys</code>. Meant to store information about subsystems, hardware devices, drivers...
This should be the default choice</p>
<p>Pros:</p>
<ul>
<li>Hierarchical topology</li>
<li>Provides a set of mechanisms to free memory and recursively destroy directories
Cons:</li>
<li>complex</li>
<li>each file represents one single piece of data</li>
<li>a piece of data cannot be larger than one page (<code>PAGE_SIZE</code>)</li>
</ul>
<h2 id="directories-1d8h1a2a-sysfs-folders"><a class="header" href="#directories-1d8h1a2a-sysfs-folders">directories <a href="1d8h1a2a-sysfs-folders.html">1d8h1a2a-sysfs-folders</a></a></h2>
<h2 id="files-1d8h1a2b-sysfs-files"><a class="header" href="#files-1d8h1a2b-sysfs-files">files <a href="1d8h1a2b-sysfs-files.html">1d8h1a2b-sysfs-files</a></a></h2>
<blockquote>
<p>diff: snprintf sprintf</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><p>#linux #sorbonne #kernel #sysfs</p>
<h1 id="kobjects"><a class="header" href="#kobjects">kobjects</a></h1>
<hr />
<p>One folder is associated to one <code>struct kobject</code></p>
<pre><code class="language-c">struct kset {
	struct list_head list;
	spinlock_t list_lock;
	struct kobject kobj;
	const struct kset_uevent_ops *uevent_ops;
} __randomize_layout;

struct kobject {
	const char		*name;
	struct list_head	entry;
	struct kobject		*parent;
	struct kset		*kset;
	const struct kobj_type	*ktype;
	struct kernfs_node	*sd; /* sysfs directory entry */
	struct kref		kref;

	unsigned int state_initialized:1;
	unsigned int state_in_sysfs:1;
	unsigned int state_add_uevent_sent:1;
	unsigned int state_remove_uevent_sent:1;
	unsigned int uevent_suppress:1;

#ifdef CONFIG_DEBUG_KOBJECT_RELEASE
	struct delayed_work	release;
#endif
};
</code></pre>
<p>Those are the parent kobject:</p>
<pre><code class="language-c">/* The global /sys/kernel/ kobject for people to chain off of */
extern struct kobject *kernel_kobj;
/* The global /sys/kernel/mm/ kobject for people to chain off of */
extern struct kobject *mm_kobj;
/* The global /sys/hypervisor/ kobject for people to chain off of */
extern struct kobject *hypervisor_kobj;
/* The global /sys/power/ kobject for people to chain off of */
extern struct kobject *power_kobj;
/* The global /sys/firmware/ kobject for people to chain off of */
extern struct kobject *firmware_kobj;
</code></pre>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kobject #sysfs #attributes #sorbonne #linux</p>
<h1 id="struct-attribute"><a class="header" href="#struct-attribute">struct attribute</a></h1>
<hr />
<p>each file in the <code>sysfs</code> corresponds to one single value and is associated to an instance of a <code>struct kobj_attribute</code>.</p>
<pre><code class="language-c">struct kobj_attribute {
	struct attribute attr;
	ssize_t (*show)(struct kobject *kobj, struct kobj_attribute *attr,
			char *buf);
	ssize_t (*store)(struct kobject *kobj, struct kobj_attribute *attr,
			 const char *buf, size_t count);
};

struct attribute {
	const char		*name;
	umode_t			mode;
#ifdef CONFIG_DEBUG_LOCK_ALLOC
	bool			ignore_lockdep:1;
	struct lock_class_key	*key;
	struct lock_class_key	skey;
#endif
};
</code></pre>
<p>kobjtect attributes can be created with the following macro:</p>
<pre><code class="language-c">#define __ATTR(_name, _mode, _show, _store)
</code></pre>
<p>Another macros</p>
<ul>
<li><code>__ATTR_RO</code> for read-only attributes</li>
<li><code>__ATTR_WO</code> for write-only attributes</li>
<li><code>__ATTR_RW</code> for read/write attributes.</li>
</ul>
<h2 id="operations"><a class="header" href="#operations">Operations</a></h2>
<pre><code class="language-c">struct sysfs_ops {
	ssize_t	(*show)(struct kobject *, struct attribute *, char *);
	ssize_t	(*store)(struct kobject *, struct attribute *, const char *, size_t);
};
</code></pre>
<h2 id="parents"><a class="header" href="#parents">Parents</a></h2>
<pre><code class="language-c">/* The global /sys/kernel/ kobject for people to chain off of */
extern struct kobject *kernel_kobj;
/* The global /sys/kernel/mm/ kobject for people to chain off of */
extern struct kobject *mm_kobj;
/* The global /sys/hypervisor/ kobject for people to chain off of */
extern struct kobject *hypervisor_kobj;
/* The global /sys/power/ kobject for people to chain off of */
extern struct kobject *power_kobj;
/* The global /sys/firmware/ kobject for people to chain off of */
extern struct kobject *firmware_kobj;
</code></pre>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#pseudofilesystem #linux #kernel #en #sorbonne #configfs</p>
<h1 id="configfs"><a class="header" href="#configfs">configfs</a></h1>
<hr />
<p>mounted in <code>/sys/kernel/config</code>.</p>
<p>Pros</p>
<ul>
<li>allows user space programs to manage kernel objects
Cons</li>
<li>complex to set up</li>
<li>one file equals one value</li>
</ul>
<blockquote>
<p>cgroups</p>
</blockquote>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#pseudofilesystem #linux #kernel #en #sorbonne #debugfs</p>
<h1 id="debugfs"><a class="header" href="#debugfs">debugfs</a></h1>
<hr />
<p>mountpoint: <code>/sys/kernel/debug</code></p>
<p>Pros</p>
<ul>
<li>no size limit for files</li>
<li>very high level and simple API
Cons</li>
<li>only for debugging purposes !</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#tag #tagg</p>
<h1 id="1d8h2-linux-process"><a class="header" href="#1d8h2-linux-process">1d8h2-linux-process</a></h1>
<hr />
<h2 id="pid"><a class="header" href="#pid">PID</a></h2>
<pre><code class="language-c">struct pid
{
	refcount_t count;
	unsigned int level;
	spinlock_t lock;
	struct dentry *stashed;
	u64 ino;
	/* lists of tasks that use this pid */
	struct hlist_head tasks[PIDTYPE_MAX];
	struct hlist_head inodes;
	/* wait queue for pidfd notifications */
	wait_queue_head_t wait_pidfd;
	struct rcu_head rcu;
	struct upid numbers[];
};
</code></pre>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #linux #fr #todo #en #sorbonne #memory</p>
<h1 id="memory-management"><a class="header" href="#memory-management">Memory Management</a></h1>
<hr />
<h2 id="memory-organisation"><a class="header" href="#memory-organisation">Memory organisation</a></h2>
<p>The smallest management unit is the page, even if the memory is byte addressable.</p>
<ul>
<li>a page (virtual page) is a fixed-size block of contiguous <strong>virtual</strong> memory.</li>
<li>a page frame (physical page) is a fixed-size block of contiguous <strong>physical</strong> memory.
The size depends on the architecture.</li>
</ul>
<blockquote>
<p>page frame -&gt; cadre de page</p>
</blockquote>
<h2 id="kernel-representation-of-pages"><a class="header" href="#kernel-representation-of-pages">Kernel representation of pages</a></h2>
<p>The kernel maintains a <code>struct page</code> for each <strong>page frame</strong> available on the system.</p>
<pre><code class="language-c">struct page {
	unsigned long flags;		/* Atomic flags, some possibly
					 * updated asynchronously */
	union {
		struct {	/* Page cache and anonymous pages */
			union {
				struct list_head lru;
				/* Or, for the Unevictable "LRU list" slot */
				struct {
					/* Always even, to negate PageTail */
					void *__filler;
					/* Count page's or folio's mlocks */
					unsigned int mlock_count;
				};
				/* Or, free page */
				struct list_head buddy_list;
				struct list_head pcp_list;
			};
			/* See page-flags.h for PAGE_MAPPING_FLAGS */
			struct address_space *mapping;
			union {
				pgoff_t index;		/* Our offset within mapping. */
				unsigned long share;	/* share count for fsdax */
			};
			unsigned long private;
		};
		struct {	/* page_pool used by netstack */
			unsigned long pp_magic;
			struct page_pool *pp;
			unsigned long _pp_mapping_pad;
			unsigned long dma_addr;
			atomic_long_t pp_ref_count;
		};
		struct {	/* Tail pages of compound page */
			unsigned long compound_head;	/* Bit zero is set */
		};
		struct {	/* ZONE_DEVICE pages */
			struct dev_pagemap *pgmap;
			void *zone_device_data;
		};
		struct rcu_head rcu_head;
	};

	union {		/* This union is 4 bytes in size. */
		unsigned int page_type;
		atomic_t _mapcount;
	};
	/* Usage count. *DO NOT USE DIRECTLY*. See page_ref.h */
	atomic_t _refcount;

#ifdef CONFIG_MEMCG
	unsigned long memcg_data;
#elif defined(CONFIG_SLAB_OBJ_EXT)
	unsigned long _unused_slab_obj_exts;
#endif
#if defined(WANT_PAGE_VIRTUAL)
	void *virtual;			/* Kernel virtual address (NULL if
					   not kmapped, ie. highmem) */
#endif /* WANT_PAGE_VIRTUAL */
#ifdef LAST_CPUPID_NOT_IN_PAGE_FLAGS
	int _last_cpupid;
#endif
#ifdef CONFIG_KMSAN
	struct page *kmsan_shadow;
	struct page *kmsan_origin;
#endif
} _struct_page_alignment;
</code></pre>
<p><code>struct page</code> is around 40 bytes. So we have 40 bytes for every 4Kib. You can increase the page size in order to reduce the metadata footprint</p>
<h2 id="zones"><a class="header" href="#zones">Zones</a></h2>
<p>The kernel separates pages in multiple zones with different properties. But:</p>
<ul>
<li>some hardware can only do Direct Memory Accesses (DMA) to certain addresses.</li>
<li>some architectures have a physical address space larger than their virtual address space, which means that some frames are not permanently mapped into the kernel address space.</li>
<li><code>ZONE_DMA</code></li>
<li><code>ZONE_DMA32</code></li>
<li><code>ZONE_NORMAL</code></li>
<li><code>ZONE_HIGHMEM</code></li>
</ul>
<h2 id="memory-api"><a class="header" href="#memory-api">Memory API</a></h2>
<blockquote>
<p>internal fragmentation: when we store way less information than needed.
external information: when we have blocks of free memory interspersed by allocated memory.</p>
</blockquote>
<h2 id="buddy-allocator"><a class="header" href="#buddy-allocator">Buddy allocator</a></h2>
<p>We have a page size of 4KiB and we allocate in "buddies" of powers-of-two contiguous pages.</p>
<p>Limitations: we can't allocate less than one page. If you ask for 513B, you'll get 1KiB allocated (external fragmentation).</p>
<h2 id="slab-layer"><a class="header" href="#slab-layer">slab layer</a></h2>
<p>The slab layer create caches, each of which contains a certain type of objects, <em>e.g</em>, <code>struct inode</code>.</p>
<p>Each cache is then divided into <strong>slabs</strong>, blocks of contiguous memory that contain a certain number of instances of the object stored by this cache.</p>
<p>A slab contains the actual data and maintain their proper status (used or free). When the slab is full, the slab layer will allocate a new one.</p>
<blockquote>
<p>NUMA: Non-uniform Memory Access.</p>
</blockquote>
<h3 id="slab-allocator"><a class="header" href="#slab-allocator">SLAB Allocator</a></h3>
<p>Frame layout</p>
<h3 id="slub-allocator"><a class="header" href="#slub-allocator">SLUB Allocator</a></h3>
<p>Introduced in 2007. Locality by having per-cpu slabs, still NUMA aware.</p>
<p>Frame layout:</p>
<h3 id="slob-allocator"><a class="header" href="#slob-allocator">SLOB Allocator</a></h3>
<h2 id="memory-pools"><a class="header" href="#memory-pools">Memory Pools</a></h2>
<p>Used when you need a guarantee that memory will be available.</p>
<h3 id="creation--destruction"><a class="header" href="#creation--destruction">Creation / Destruction</a></h3>
<pre><code class="language-c">/**
 * mempool_create - create a memory pool
 * @min_nr:    the minimum number of elements guaranteed to be
 *             allocated for this pool.
 * @alloc_fn:  user-defined element-allocation function.
 * @free_fn:   user-defined element-freeing function.
 * @pool_data: optional private data available to the user-defined functions.
 */
mempool_t *mempool_create(int min_nr, mempool_alloc_t *alloc_fn, mempool_free_t *free_fn, void *pool_data);
void mempool_destroy(mempool_t *pool)

typedef void * (mempool_alloc_t)(gfp_t gfp_mask, void *pool_data);
typedef void (mempool_free_t)(void *element, void *pool_data);
</code></pre>
<h3 id="freeing-memory"><a class="header" href="#freeing-memory">Freeing memory</a></h3>
<h3 id="reference-counter"><a class="header" href="#reference-counter">Reference counter</a></h3>
<p>They keep track of the number of users using an object.
Whenever the counter reaches 0, the object is not in use anymore and can be freed.</p>
<p>To use a reference counter, add a <code>struct kref</code> into your structure:</p>
<pre><code class="language-c">struct kref {
	refcount_t refcount;
};

void kref_get(struct kref *kref); // increments the kref


/**
 * kref_put - decrement refcount for object.
 * @kref: object.
 * @release: pointer to the function that will clean up the object when the
 *       last reference to the object is released.
 *       This pointer is required, and it is not acceptable to pass kfree
 *       in as this function.  If the caller does pass kfree to this
 *       function, you will be publicly mocked mercilessly by the kref
 *       maintainer, and anyone else who happens to notice it.  You have
 *       been warned.
 */
int kref_put(struct kref *kref, void (*release)(struct kref *kref));
</code></pre>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #linux #fr #todo #en</p>
<h1 id="linux-kernel-development"><a class="header" href="#linux-kernel-development">Linux kernel development</a></h1>
<hr />
<p>Is important to keep in mind the directory tree</p>
<p>the kernel dynamic linker <a href="1d8i1-kernel-dynamic-linker.html">1d8i1-kernel-dynamic-linker</a></p>
<h2 id="annotations"><a class="header" href="#annotations">Annotations</a></h2>
<p>The <code>__init</code> and <code>__exit</code> annotations are used to help the compiler optimise the memory usage.<br />
When some module is statically built-in the kernel binary, functions tagged with these annotations are placed in specific segments:</p>
<ul>
<li><code>.init.text</code> that is freed after the boot of the kernel</li>
<li><code>.exit.text</code> that is never loaded in memory</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#kernel #linux #fr #todo #en</p>
<h1 id="kernel-dynamic-linker"><a class="header" href="#kernel-dynamic-linker">Kernel dynamic linker</a></h1>
<hr />
<p>By default, module have access to no variable or function from the kernel, even if they are not static.</p>
<p>export symbols <strong>to</strong> modules</p>
<pre><code class="language-c">EXPORT_SYMBOL(s) // makes s visible to all loaded modules
EXPORT_SYMBOL_GPL(s) // makes s visible to all modules GPL-compatible licensed
</code></pre>
<p>You need to declare your symbol <code>extern</code> and load the module where it is defined.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><p>#todo #gnu #gnulinux</p>
<h1 id="gnu-linux"><a class="header" href="#gnu-linux">GNU-Linux</a></h1>
<hr />
<p>Uses the linux kernel <a href="1d8-linux.html">1d8-linux</a></p>
<h2 id="démarrage"><a class="header" href="#démarrage">Démarrage</a></h2>
<h3 id="etape-1-firmware-bios--uefi"><a class="header" href="#etape-1-firmware-bios--uefi">Etape 1: Firmware: BIOS / (U)EFI</a></h3>
<ul>
<li>
<p>BIOS. code qui lance le bootloader</p>
</li>
<li>
<p>MBR (Master Boot Recorder). table de description des partitions sur les disques</p>
</li>
<li>
<p>Le BIOS charge le MBR</p>
<ul>
<li>Bootstrap.</li>
<li>Va voir les quelques octets au début de la partition marqué comme bootable</li>
<li>chargeur de démarrage. LILO. GRUB</li>
<li>Très peu de place. Très peu de sécurité</li>
</ul>
</li>
<li>
<p>Les BIOS a des limitations</p>
<ul>
<li>Il ne peut gérer des disques de plus de 2.3 To (Table de partition), 1Mo de RAM</li>
<li>Legacy mais encore utilisé pour IOT/Android</li>
<li>Entre 200 et 500 octets pour le bootloader dans le premier secteur du disque</li>
</ul>
</li>
<li>
<p>Couple: (U)EFI/GPT</p>
</li>
<li>
<p>Gestion plus poussée par modules</p>
</li>
<li>
<p>Ajout de la sécurité (signatures des modules EFI)</p>
<ul>
<li>Utilisation des GUID Partition Table (max 8Zio)</li>
<li>Permet un boot sécurisé des MAJ sécurisés, un stockage des noyaux systèmes (utilisation de code signé)</li>
<li>Inclus la gestion réseau</li>
</ul>
</li>
<li>
<p>Chaque disque peut avoir sa partition EFI</p>
<ul>
<li>~100Mo à ~1Gio pour y stocker le bootloader</li>
<li>Formater en FAT32. Certains EFI support exFAT/NTFS ou autre</li>
</ul>
</li>
<li>
<p>La cohabitation est difficile</p>
</li>
</ul>
<h4 id="sécurité-uefi"><a class="header" href="#sécurité-uefi">Sécurité uEFI</a></h4>
<ul>
<li>Protection du bootloader. Pas forcement des noyaux</li>
<li>Peut s'appliquer au boot par le réseau et périphériques externes
Plataform key (PK)</li>
<li>Stockée dans la variable EFI nommée PK.</li>
<li>Format: x509 (clef publique dans certificat)</li>
<li>Mise à jour: uniquement une nouvelle clef signée avec l'ancienne clef PK</li>
<li>MAJ: directement dans l'interface physique EFI possible
<ul>
<li>en général protégé par mot de passe</li>
<li>en général suppression seulement</li>
</ul>
</li>
<li>Si on détruit la PK, on passe a mode config</li>
<li>N'est pas utiliser pour signé des binaires
<ul>
<li>La plupart des ordinateurs viennent avec 2 clefs microsoft pré-installes
KEY EXCHANGE KEY (KEK)</li>
</ul>
</li>
<li>Stockée dans KEK</li>
<li>format: X509 OU RSA
...</li>
</ul>
<p>The Signature Database (db)</p>
<ul>
<li>Stockée dans la variable db
Machine Owner Key (MOK)</li>
</ul>
<h2 id="etape-2-exéction-du-bookloader-du-bios"><a class="header" href="#etape-2-exéction-du-bookloader-du-bios">Etape 2: Exéction du BookLoader du BIOS</a></h2>
<ul>
<li>charge une carte (map)  du disque pour le système</li>
<li>Charge le noyaux des OS (Linux, Windows, etc)</li>
<li>Pour l'EFI
...</li>
</ul>
<h2 id="etape-3-optionnel"><a class="header" href="#etape-3-optionnel">Etape 3 (optionnel)</a></h2>
<ul>
<li>Si le noyaux contient tous les drivers nécessaire, initrd peut être ignoré</li>
<li>...</li>
</ul>
<h2 id="etape-4-exécution-du-noyau"><a class="header" href="#etape-4-exécution-du-noyau">Etape 4: Exécution du noyau</a></h2>
<p>Le bootloader exécute le noyau en transmettant les arguments</p>
<h2 id="etape-5-création-du-premier-processus"><a class="header" href="#etape-5-création-du-premier-processus">Etape 5: Création du premier processus</a></h2>
<ul>
<li>init ou systemd en Linux</li>
</ul>
<h2 id="etape-6-interprétation-des-fichiers-de-configurations-du-system-par-les-fils-du-processus-1"><a class="header" href="#etape-6-interprétation-des-fichiers-de-configurations-du-system-par-les-fils-du-processus-1">Etape 6: Interprétation des fichiers de configurations du system par les fils du processus 1</a></h2>
<ul>
<li>Niveaux d'exécution (runlevel) -&gt; <code>/etc/inittab</code>
<ul>
<li>
<ol start="0">
<li></li>
</ol>
</li>
<li>
<ol>
<li>Utilisateur</li>
</ol>
</li>
<li>
<ol start="2">
<li>Multiutilisateur</li>
</ol>
</li>
<li>3</li>
<li>4</li>
<li>5</li>
<li>6
<code>/etc/rc.d/rc</code></li>
</ul>
</li>
</ul>
<p><code>/etc/init.d/</code></p>
<h2 id="etape-7"><a class="header" href="#etape-7">Etape 7:</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="android-os"><a class="header" href="#android-os">Android OS</a></h1>
<hr />
<p><a href="1g1-adroid-rooting.html">1g1-adroid-rooting</a></p>
<p><a href="5b1a2-arm.html">5b1a2-arm</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#android #en</p>
<h1 id="adroid-rooting"><a class="header" href="#adroid-rooting">Adroid Rooting</a></h1>
<hr />
<p><a href="1g1a-samsung-a12.html">1g1a-samsung-a12</a></p>
<p>content</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#en #samsung #android #root #odin</p>
<h1 id="samsung-a12"><a class="header" href="#samsung-a12">Samsung A12</a></h1>
<hr />
<p>Galaxy A12
SM-A127M</p>
<p>One UI Core: 5.1
Android version: 13
Baseband version: A127MUBSEDXJ2
Kernel version: 4.19.111-27127798
Knox version: 3.9; API Level 36
Build number TPA1.220624.014.A127MUBSEDXJ2
DC9V; 1.67A</p>
<p>content</p>
<h2 id="firmware"><a class="header" href="#firmware">firmware</a></h2>
<p>f6155d2540b5013774a77e846da5651c</p>
<p>f6155d2540b5013774a77e846da5651c  SAMFW.COM_SM-A127M_PEO_A127MUBSEDXJ2_fac.zip</p>
<p>0152ccdedd545ccfd3ebb52005261ca2</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#unix #systemesdexploitation #c #fr</p>
<h1 id="unix"><a class="header" href="#unix">Unix</a></h1>
<hr />
<h2 id="histoire"><a class="header" href="#histoire">Histoire</a></h2>
<ul>
<li>
<ol start="1969">
<li>Ken Thompson (ATT Bell labs) écrit la première version pour un PDP-7 de ce qui sera Unix</li>
</ol>
</li>
<li>
<ol start="1970">
<li>Ken Thompson et Dennis Ritchie l’adaptent au DEC PDP-11/20. Au passage ils développent le premier compilateur C.</li>
</ol>
</li>
<li>
<ol start="1979">
<li>ATT annonce son intention de créer une version commerciale d’Unix. En réaction l’université de Californie à Berkeley lance sa propre variante : BSD UNIX.</li>
</ol>
</li>
<li>
<ol start="1990">
<li>La coopération entre Sun et ATT donne naissance à la System V R4 qui comporte de nouveaux standard d’unification d’UNIX. En réaction, les autres grands constructeurs, dont DEC, HP et IBM, décident de créer l’OSF (Open Software Foundation).</li>
</ol>
</li>
<li>
<ol start="1991">
<li>La guerre des clones commence avec l’arrivée de Linux et FreeBSD.</li>
</ol>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#systemesdexploitation #kernel #ordinateurs #fr #syscall</p>
<h1 id="appel-système"><a class="header" href="#appel-système">appel système</a></h1>
<hr />
<p>C'est le mécanisme utilisé pour les applicatifs utilisateurs pour demander l'accès au ressources de l'ordinateurs au noyau.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#msdos #systemesdexploitation #fr</p>
<h1 id="ms-dos"><a class="header" href="#ms-dos">MS-DOS</a></h1>
<hr />
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#drivers #systemesdexploitation #fr</p>
<h1 id="pilote-de-périphérique-noyau"><a class="header" href="#pilote-de-périphérique-noyau">Pilote de périphérique noyau</a></h1>
<hr />
<p>On peut voir les pilotes de périphériques comme des extensions du noyau. Un périphérique est un composant matériel additional communicant avec l'ordinateur (mouse, clavier, haut-parleur, etc).</p>
<p>L'organisation et nature des pilotes peut varier entres systèmes d'exploitation différents.
linux drivers <a href="1d8a-linux-drivers.html">1d8a-linux-drivers</a>
unix drivers <a href="1d11a-unix-drivers.html">1d11a-unix-drivers</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr</p>
<h1 id="algorithmes"><a class="header" href="#algorithmes">algorithmes</a></h1>
<hr />
<p>Un algorithme c'est...</p>
<p>fonction d'hachage <a href="2a-hash-function.html">2a-hash-function</a></p>
<p>algorithmes réparties <a href="2b-distributed-algorithms.html">2b-distributed-algorithms</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#hash #digest #infosec #fr #algorithmes</p>
<h1 id="fonction-dhachage"><a class="header" href="#fonction-dhachage">fonction d'hachage</a></h1>
<p>C'est une fonction qui...</p>
<p>fonction d'hachage cryptographique <a href="2a1-cryptographic-hash-function.html">2a1-cryptographic-hash-function</a></p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>https://cp-algorithms.com/string/string-hashing.html</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#crypto #algorithmes #hash #fr</p>
<h1 id="fonction-dhachage-cryptographic"><a class="header" href="#fonction-dhachage-cryptographic">Fonction d'hachage cryptographic</a></h1>
<p>C'est une fonction d'hachage qui a des propriétés particuliers:</p>
<ul>
<li>la taille de l'image est fixé (\(n\))</li>
<li>elle est déterministe</li>
<li>la probabilité d'un sortie est bas (~\(2^{-n}\))</li>
<li>résistance à la préimage</li>
<li>résistance à la deuxième préimage.</li>
<li>résistance aux collisions</li>
</ul>
<p>\[
x_1 = \frac{1}{0}
\]</p>
<h2 id="exemples-4"><a class="header" href="#exemples-4">exemples</a></h2>
<ul>
<li>md5</li>
<li>bcrypt</li>
<li>ntlm hash <a href="2a1a-ntlm-hash-function.html">2a1a-ntlm-hash-function</a></li>
<li></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#crypto #hash #activedirectory #ntlm #fr</p>
<h1 id="fonction-dhachage-de-ntlm"><a class="header" href="#fonction-dhachage-de-ntlm">fonction d'hachage de NTLM</a></h1>
<hr />
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="algorithmique-repartie"><a class="header" href="#algorithmique-repartie">Algorithmique repartie</a></h1>
<hr />
<p>Système réparti:</p>
<blockquote>
<p>Ensemble interconnecté d'entités autonomes qui communiquent via un medium de communication
-- G. Tel</p>
</blockquote>
<p>Canaux de communication <a href="2b2-communication-channels.html">2b2-communication-channels</a></p>
<h2 id="caractérisation-dun-calcul-réparti"><a class="header" href="#caractérisation-dun-calcul-réparti">Caractérisation d'un calcul réparti</a></h2>
<ul>
<li><strong>non séquentiel</strong>. deux instructions peuvent être exécutées simultanément.</li>
<li><strong>non centralisé</strong>. Les paramètres décrivant l'état du système sont répartis.</li>
<li><strong>non déterministe</strong>. deux actions concurrentes peuvent être exécutées dans n'importe quel ordre.</li>
</ul>
<h2 id="but-dun-système-réparti"><a class="header" href="#but-dun-système-réparti">But d'un système réparti</a></h2>
<ul>
<li><strong>technique</strong>. mise en commun des ressources matérielles de plusieurs machines
<ul>
<li>Factorisation des coûts</li>
<li>Partage de charge</li>
<li>Tolerance aux pannes <a href="2b3-failures.html">2b3-failures</a></li>
</ul>
</li>
<li><strong>fonctionnel</strong>. mise en commun d'information entre plusieurs utilisateurs en systèmes.
<ul>
<li>Travail coopératif entre utilisateurs</li>
<li>Automatisation de chaînes de traitement</li>
</ul>
</li>
</ul>
<p>Classification des applications répartis <a href="2b1-distributed-apps-classification.html">2b1-distributed-apps-classification</a></p>
<p>Modèles temporelles <a href="2b4-temporal-models.html">2b4-temporal-models</a></p>
<p>Critères d'evaluation <a href="2b5-evaluation-criteria.html">2b5-evaluation-criteria</a></p>
<p>Verification d'un algorithme réparti <a href="2b6-distributed-algorithms-verification.html">2b6-distributed-algorithms-verification</a></p>
<p>Algorithmes à vagues <a href="2b7-wave-algorithms.html">2b7-wave-algorithms</a></p>
<p>Exclusion mutuelle <a href="2b8-distributed-mutex.html">2b8-distributed-mutex</a></p>
<p>Detection de la terminaison <a href="2b9-termination-detection.html">2b9-termination-detection</a></p>
<p>P2P <a href="2b10-peer-to-peer.html">2b10-peer-to-peer</a></p>
<p>table d'hachage distribuée <a href="2b11-hash-table.html">2b11-hash-table</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="classification-des-applications-répartis"><a class="header" href="#classification-des-applications-répartis">Classification des applications répartis</a></h1>
<hr />
<ul>
<li><strong>processus coopérants</strong>. les processus interagissent via des mémoires ou des variables partagées.</li>
</ul>
<blockquote>
<p>gérer les conflits d’accès aux ressources communes.</p>
</blockquote>
<ul>
<li><strong>processus communicants</strong>. les processus s’échangent des messages par l'intermédiaire de canaux <a href="2b2-communication-channels.html">2b2-communication-channels</a>.</li>
</ul>
<blockquote>
<p>gérer l'échange de la connaissance.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><p>#p2p #distributedalgorithms #activedirectory #sorbonne #en</p>
<h1 id="systèmes-pair-à-pair"><a class="header" href="#systèmes-pair-à-pair">Systèmes pair-à-pair</a></h1>
<hr />
<h2 id="napster"><a class="header" href="#napster">Napster</a></h2>
<p>The first simple but successful P2P-application.</p>
<ul>
<li>File retrieval: the requesting peer contacts the peer having the file directly and downloads it</li>
</ul>
<p>def. A p2p computer network is a network that relies primarily on the copmuting power and bandwidth of the participants in the network rather than concentrating it in a relatively small number</p>
<ul>
<li>Bootstrapping</li>
<li>Service discovery</li>
<li>Overlay structure maintenance</li>
<li>Neighbour status tracking</li>
<li>Application layer routing</li>
<li>Resilience, handling link and node failures</li>
<li>...</li>
</ul>
<h2 id="taxonomy-of-p2p-apps"><a class="header" href="#taxonomy-of-p2p-apps">Taxonomy of p2p-apps</a></h2>
<foto>
:P
</foto>
<h3 id="p2p-structured"><a class="header" href="#p2p-structured">P2P structured</a></h3>
<h3 id="p2p-non-structured"><a class="header" href="#p2p-non-structured">P2P non-structured</a></h3>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#distributedalgorithms #hashtable #sorbonne</p>
<h1 id="hash-table"><a class="header" href="#hash-table">Hash Table</a></h1>
<hr />
<h2 id="principe-table-hachage"><a class="header" href="#principe-table-hachage">Principe table hachage</a></h2>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="canaux-de-communication"><a class="header" href="#canaux-de-communication">Canaux de communication</a></h1>
<hr />
<ul>
<li>Risque de déséquencement des messages</li>
</ul>
<blockquote>
<p>canal FIFO = pas de déséquencement</p>
</blockquote>
<ul>
<li>Risque de perte de messages</li>
</ul>
<blockquote>
<p>communications fiables</p>
</blockquote>
<ul>
<li>Certains canaux peuvent avoir une capacité bornée.</li>
</ul>
<p>Topologies de systèmes répartis <a href="2b2a-distributed-topologies.html">2b2a-distributed-topologies</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="topologies-de-systèmes-répartis"><a class="header" href="#topologies-de-systèmes-répartis">Topologies de systèmes répartis</a></h1>
<hr />
<h2 id="topologie-logique"><a class="header" href="#topologie-logique">Topologie logique</a></h2>
<p>La manière dont la communication entre sites est organisée (structure de contrôle)</p>
<ul>
<li><strong>Representation sous forme de graphe</strong>
<ul>
<li>sommets -&gt; processus (ou nœuds)</li>
<li>arêtes -&gt; canaux (ou lien) de communication</li>
</ul>
</li>
<li>Caractéristiques du graphe
<ul>
<li>connexes -&gt; chaque paire de nœuds est reliée par un chemin</li>
<li>fortement connexe (graphe orienté) -&gt; il existe un chemin entre chaque paire de nœuds en respectant le sens des arcs</li>
<li>incomplet -&gt; tous les processus ne communiquent pas deux à deux directement</li>
</ul>
</li>
<li>Paramétrés définis sur le graphe
<ul>
<li>distance entre deux nœuds -&gt; longueur du plus court chemin entre ces deux nœuds</li>
<li>diamètre du graphe -&gt; la plus longue des distances entre deux nœuds du graphe</li>
<li>degré d'un nœud -&gt; nombre de voisins du nœud.</li>
</ul>
</li>
</ul>
<h2 id="topologie-physique"><a class="header" href="#topologie-physique">Topologie physique</a></h2>
<p>"câblage" du réseau. Sur un topologie physique connexe quelconque, on peut toujours implanter une structure de contrôle en arbre.</p>
<h2 id="topologies-particulières"><a class="header" href="#topologies-particulières">Topologies particulières</a></h2>
<ul>
<li>anneau bidirectionnel</li>
<li>étoile</li>
<li>clique (graphe complet)</li>
<li>hypercube</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #failures #sorbonne</p>
<h1 id="fautes-en-systèmes-repartis"><a class="header" href="#fautes-en-systèmes-repartis">Fautes en systèmes repartis</a></h1>
<hr />
<h2 id="composantes-impactés"><a class="header" href="#composantes-impactés">Composantes impactés</a></h2>
<ul>
<li>processus</li>
<li>machines</li>
<li>canaux de communication</li>
</ul>
<h2 id="origines-des-fautes"><a class="header" href="#origines-des-fautes">Origines des fautes:</a></h2>
<ul>
<li><strong>logiciels</strong> (de conception ou programmation)
<ul>
<li>quasi-déterministes. très difficiles à traiter à l'execution</li>
</ul>
</li>
<li><strong>matérielles</strong> (ou plus généralement système)
<ul>
<li>non-déterministes. transitoires</li>
<li>corrigées par point de reprise ou masquées par réplication</li>
</ul>
</li>
<li><strong>piratage</strong> <a href="4a-cyber-attaques.html">4a-cyber-attaques</a>
<ul>
<li>affecte durablement un sous ensemble de machines</li>
<li>masqué par réplication</li>
</ul>
</li>
</ul>
<p>Classification des fautes <a href="2b3a-failure-classification.html">2b3a-failure-classification</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #failures</p>
<h1 id="classification-des-fautes"><a class="header" href="#classification-des-fautes">Classification des fautes</a></h1>
<hr />
<ul>
<li><strong>faute franche</strong>. arrêt définitif du composant.</li>
<li><strong>faute d'omission</strong>. un résultat en un message n'est transitoirement pas délivré.</li>
<li><strong>faute temporelle</strong>. un résultat ou un message est délivré trop tard ou trop tôt.</li>
<li><strong>faute byzantine</strong>. inclut tous les types de fautes, y compris le fait de délivrer un résultat ou un message erroné (intentionnellement au nom).</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="modèles-temporelles"><a class="header" href="#modèles-temporelles">Modèles temporelles</a></h1>
<hr />
<ul>
<li><strong>Constat</strong>
<ul>
<li>vitesses des processus différents.</li>
<li>délais de transmissions variables</li>
</ul>
</li>
<li>Problème.
<ul>
<li>combien de temps attendre avant de reprendre au déclarer l’échec</li>
</ul>
</li>
<li>Démarche.
<ul>
<li>élaborer des modèles temporelles pour lesquels on puisse tirer des propriétés.</li>
</ul>
</li>
</ul>
<p>Problèmes du consensus <a href="2b4a-consensus-problem.html">2b4a-consensus-problem</a></p>
<p>Horloges <a href="2b4b-clocks.html">2b4b-clocks</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #clock</p>
<h1 id="horloges"><a class="header" href="#horloges">Horloges</a></h1>
<hr />
<p>On considere un système réparti comme un ensemble de processus asynchrones s’exécutant sur différents sites. Les proc communiquent uniquement par message. Il y a pas d'horloge globale.</p>
<h2 id="types-dévénements"><a class="header" href="#types-dévénements">Types d'événements</a></h2>
<ul>
<li><strong>événements locaux</strong>. changement de l'état interne d'un processus.
<code>e_i</code></li>
<li><strong>emissions de messages</strong>
<code>send(m)</code></li>
<li><strong>receptions de messages</strong>
<code>recv(m)</code></li>
<li><strong>délivrance de messages</strong>
<code>delivre(m)</code></li>
</ul>
<blockquote>
<p>On veut pouvoir tracer l'execution et donner une relation de causalité entre événements.</p>
</blockquote>
<p>Datation <a href="2b4b5-datation.html">2b4b5-datation</a></p>
<h2 id="horloges-physiques"><a class="header" href="#horloges-physiques">Horloges physiques</a></h2>
<ul>
<li>Problème. ils dérivent au cours de temps et le sens et l'amplitude de la dérive est propre à chaque machine.</li>
<li>Consequence: la précédence causale n'est pas respectée. <a href="2b4b1-causal-order.html">2b4b1-causal-order</a></li>
</ul>
<h2 id="horloges-logiques"><a class="header" href="#horloges-logiques">Horloges logiques</a></h2>
<p><strong>def.</strong></p>
<p>\(H\): ensemble des événements de l'application (muni de l'ordre partiel \(\rightarrow\))</p>
<p>\(T\): domaine de temps (muni de l'ordre partiel \(&lt;\)).
\[
\begin{align}
C: &amp;H \longrightarrow T \\
&amp;e\longmapsto C(e) \text{ tq } e\rightarrow e' \Rightarrow C(e) &lt; C(e')
\end{align}
\]
on dit que l'horloge <em>capture</em> la causalité.</p>
<p>Si, en plus, \(C(e) &lt; C(e') \Rightarrow e \rightarrow e'\) (consistence forte), on dit que l'horloge <em>caractérise</em> la causalité.</p>
<ul>
<li><strong>horloges scalaires</strong> <a href="2b4b2-lamport-timestamps.html">2b4b2-lamport-timestamps</a></li>
<li><strong>horloges vectoriels</strong> <a href="2b4b3-vector-clock.html">2b4b3-vector-clock</a></li>
<li><strong>horloges matricielles</strong> <a href="2b4b4-matrix-clock.html">2b4b4-matrix-clock</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #clock</p>
<h1 id="relation-de-précédence---causalité"><a class="header" href="#relation-de-précédence---causalité">Relation de précédence - causalité</a></h1>
<hr />
<p>Def. \(a \rightarrow b\) ssi...</p>
<h2 id="événements-concurrents"><a class="header" href="#événements-concurrents">événements concurrents</a></h2>
<p>Deux événements qui ne sont pas causalement dépendants l'un de l'autre sont dis concurrents.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="horloge-scalar"><a class="header" href="#horloge-scalar">Horloge scalar</a></h1>
<hr />
<ul>
<li>\(T = \mathbb{N}\)</li>
<li>Tous les messages portent l'horloge de leur émetteur à l'instant démission (estampillage)</li>
<li>2 règles de mise à jour:
<ul>
<li><strong>R1</strong>. avant tout événement, le processus \(i\) exécute
\(C_i = C_i + d, d&gt;0\)</li>
<li><strong>R2</strong>. lorsque le site \(i\) reçoit un message portant une estampille \(C_{msg}\)
\(C_i = \max(C_i, C_{msg})\)
Appliquer <strong>R1</strong>
Délivrer le message</li>
</ul>
</li>
</ul>
<h2 id="propriétés"><a class="header" href="#propriétés">Propriétés</a></h2>
<ul>
<li>\(C\) respecte la causalité</li>
<li>\(C\) capture la causalité mais ne la caractérise pas.</li>
<li>\(C(e) = n\) implique que \(n-1\) événements se sont déroulés séquentiellement avant \(e\)</li>
</ul>
<blockquote>
<p>Les horloges scalaires peuvent être utilisées pour définir un <em>ordre total</em> sur les événements.
On complète la date logique d'un événement par le numéro du processus où il s'est produit \(D(e) = (C_i, i)\)
\(e_i \ll e_j \Leftrightarrow C(e_i) &lt; C(e_j) \text{ ou } [C(e_i) = C(e_j) \text{ et } i &lt; j]\)</p>
</blockquote>
<blockquote>
<p>Attention: notez que s'il y a pas d'identité, on n'a pas d'ordre total</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="horloge-vectoriel"><a class="header" href="#horloge-vectoriel">Horloge vectoriel</a></h1>
<hr />
<ul>
<li>\(T = \mathbb{N}^N\)</li>
<li>chaque processus \(i\) gère un vecteur \(VC_i\) de taille \(N\).
<ul>
<li>\(VC_i[i]\): nombre d'événements du proc \(i\)</li>
<li>\(VC_i[j]\): connaissance qu'a \(i\) de l'avancement de l'horloge de \(j\)</li>
</ul>
</li>
<li>À tout instant, l'état réel d'avancement du système est donné par \(W=(VC_1[1],...,VC_N[N])\)</li>
</ul>
<h2 id="algorithme-de-mise-à-jour"><a class="header" href="#algorithme-de-mise-à-jour">algorithme de mise à jour</a></h2>
<ul>
<li>À chaque événement de \(P_i\), le processus exécute
\(VC_i[i] = VC_i[i] + 1\)</li>
<li>À l'emission d'un message \(m\): rien à faire.</li>
<li>À la réception d'un message \(m\) portant un horloge \(m.VC\).</li>
<li>\(\forall x: VC_i[x] = \max(VC_i[x], m.VC[x])\text{ et } VC_i[i] = VC_i[i] + 1\)</li>
</ul>
<h2 id="causalité"><a class="header" href="#causalité">causalité</a></h2>
<ul>
<li>on a les relations
<ul>
<li>\(VC_i \leq VC_j \Leftrightarrow \forall k: VC_i[k] \leq VC_j[k]\)</li>
<li>\(VC_i &lt; VC_j \Leftrightarrow VC_i[k] \leq VC_j[k] \text{ et } VC_i \neq VC_j\)</li>
<li>\(VC_i | VC_j \Leftrightarrow  (VC_i \leq VC_j) \wedge (VC_i \leq VC_j)\)</li>
</ul>
</li>
<li>Les horloges vectorielles définissent un ordre partiel sur les événements</li>
<li>Les horloges vectorielles <em>caractérisent</em> la causalité (consistence forte)
\(e\rightarrow e' \Leftrightarrow VC(e) &lt; VC(e')\)
\(e | e' \Leftrightarrow VC(e) | VC(e')\)</li>
<li>augmentent la quantité d'info à gérer localement et circulant sur la réseau</li>
<li>la causalité des événements d'un système réparti avec \(N\) processus ne peut être caractérisée qu'avec des horloges vectorielles ayant au moins \(N\) entrées</li>
<li>détection à la volée du respect de l'ordre causale impossible et donc délivrance causale non respectée</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="horloge-matricielle"><a class="header" href="#horloge-matricielle">Horloge matricielle</a></h1>
<hr />
<ul>
<li>\(T = \mathbb{N}^{N^2}\)</li>
<li>chaque processus gère une matrice \(MT_i\) de taille \(N^2\).
<ul>
<li>\(MT_i[i,i]\): nombre d'événements du processus \(i\).</li>
<li>\(MT_i[i,*]\): nombre de messages envoyés par \(i\) aux autres.</li>
<li>\(\text{diag}(MT_i)\): nombre d'événements locaux des autres sites dont \(i\) a la connaissance = horloge vectoriel du processus \(i\).</li>
<li>\(MT_i[j,k]\): nombre de messages émis par \(j\) à \(k\) dont \(i\) a connaissance.</li>
</ul>
</li>
</ul>
<h2 id="algorithme-de-mise-à-jour-1"><a class="header" href="#algorithme-de-mise-à-jour-1">algorithme de mise à jour</a></h2>
<ul>
<li>Pour le processus \(i\):
<ul>
<li>à chaque événement local:
\(MT_i[i,i] = MT_i[i,i] + 1\)</li>
<li>à chaque émission d'un message \(m\) vers \(j\):
\(MT_i[i,i] = MT_i[i,i] + 1\) et \(MT_i[i,j] = MT_i[i,j] + 1\)</li>
<li>à chaque réception d'un message \(m\) émis par \(j\), il faut s'assurer que:
<ul>
<li>tous les messages envoyés antérieurement par \(j\) à \(i\) ont été reçus</li>
<li>tous les messages reçus par \(i\) et dont l'envoi de \(m\) depend causalement ont bien été reçu</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="considerations"><a class="header" href="#considerations">considerations</a></h2>
<ul>
<li>Très coûteux en espace, sur les messages et en calcul</li>
<li>Le processus \(i\) sait que tous les autres processus \(p_j\) savent que le temps local de chaque \(p_k\) a progressé jusqu'au moins \(t\): \(\min(MT_i[k,l])\geq t\)</li>
<li>permet d'implementer FIFO.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="datation"><a class="header" href="#datation">Datation</a></h1>
<hr />
<p>à chaque événement on associé la date d’occurrence</p>
<p>\[
a \longmapsto D(a)
\]</p>
<p>objectif: trouver un système de datation \(D\) qui <strong>respecte</strong> et <strong>représente</strong> au mieux la relation précédence causal.</p>
<ul>
<li><strong>respecte</strong>: \(a \rightarrow b \Rightarrow D(a) &lt; D(b)\)</li>
<li><strong>représente</strong>: \(a \rightarrow b \Leftarrow D(a) &lt; D(b)\)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="critères-devaluation"><a class="header" href="#critères-devaluation">Critères d'evaluation</a></h1>
<hr />
<p>La complexité en nombre d'operations est peu significative.</p>
<p>Si la complexité en nombre total de messages échangés est pris, donc on a un critère biaisé si les tailles de messages sont très differentes.</p>
<h2 id="complexité-en-temps"><a class="header" href="#complexité-en-temps">Complexité en temps</a></h2>
<p>En l'absence d'horloge globale <a href="2b4-temporal-models.html">2b4-temporal-models</a>, on utilise une notion idéalisée du temps:</p>
<ul>
<li>les temps d'execution d'un pas de calcul est nul</li>
<li>le temps de transmission d'un message nécessite une unité de temps</li>
</ul>
<blockquote>
<p>Alors la complexité en temps = longue de la plus longue chaîne de messages.</p>
</blockquote>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="verification-dun-algorithme-réparti"><a class="header" href="#verification-dun-algorithme-réparti">Verification d'un algorithme réparti</a></h1>
<hr />
<p><strong>Problème</strong>: non déterministe
+ multiplication des traces d'exécution
+ difficulté de reproduire une exécution
+ extrêmement difficile à debugger
<strong>On utilise donc méthodes inductives basées sur des propriétés invariants et stables.</strong></p>
<ul>
<li><strong>sûreté</strong>. rien de mauvais ne se produit dans l'exécution
<ul>
<li>l'exclusion mutuelle: au plus un proc finit en section critique</li>
<li>détection de la termination: pas de fausse detection</li>
</ul>
</li>
<li><strong>vivacité</strong>. quelque chose de bien finit par se produire dans l'exécution
<ul>
<li>exclusion mutuelle: si un proc demande la section critique, donc il fini par l'obtenir</li>
<li>detection del a termination: si l'application se termine, donc cette termination sera detecté.</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="algorithmes-à-vagues"><a class="header" href="#algorithmes-à-vagues">Algorithmes à vagues</a></h1>
<hr />
<p>Les algorithmes à vagues sont utilisés pour diffuser une info sur le réseau, découvrir la topologie du réseau, rassembler des informations du réseau.</p>
<h2 id="types-de-nœuds"><a class="header" href="#types-de-nœuds">Types de nœuds</a></h2>
<ul>
<li><strong>initiateur</strong>. le premier événement est interne pour démarrer l'algorithme à vague.</li>
<li><strong>non-initiateur</strong>. le premier événement est la reception du message.</li>
</ul>
<blockquote>
<p>Souvent, il y aura une racine ou <em>initiateur</em>, et <em>les autres</em>. Mais, il n'en reste pas moins qu'il soient plus d'un initiateur.</p>
</blockquote>
<h2 id="propriétés-1"><a class="header" href="#propriétés-1">Propriétés</a></h2>
<ul>
<li><strong>terminaison</strong>. toute execution est finie</li>
<li><strong>décision</strong>. une décision doit être prise à terme par au moins un processus. Typiquement une retourne</li>
<li><strong>dépendance</strong>. une décision est précédée causalement par un événement de chaque processus</li>
</ul>
<p>anneau <a href="2b7a-wave-algorithm-ring.html">2b7a-wave-algorithm-ring</a></p>
<p>arbre <a href="2b7b-wave-algorithm-tree.html">2b7b-wave-algorithm-tree</a></p>
<p>echo <a href="2b7c-wave-algorithm-echo.html">2b7c-wave-algorithm-echo</a></p>
<p>phase <a href="2b7d-wave-algorithm-phase.html">2b7d-wave-algorithm-phase</a></p>
<p>depth-first token circulation <a href="2b7f-wave-algorithm-dftc.html">2b7f-wave-algorithm-dftc</a></p>
<p>algorithme d'Awerbuch Circulation de jeton en profondeur d'abord <a href="2b7e-wave-algorithm-dftc-awerbuch.html">2b7e-wave-algorithm-dftc-awerbuch</a></p>
<div class="table-wrapper"><table><thead><tr><th>algorithme</th><th>topologie</th><th>type</th><th>Décideur</th><th>Symétrie</th><th>nb. msg</th><th>temps</th></tr></thead><tbody>
<tr><td>Anneau</td><td>anneau unidirectionnel</td><td>centralisé</td><td>1 - initiateur</td><td>Non</td><td>N</td><td>N</td></tr>
<tr><td>Arbre</td><td>Arbre bidirectionnel</td><td>pas centralisé et pas décentralisé</td><td>2</td><td>Oui</td><td>N</td><td>O(D)</td></tr>
<tr><td>Echo</td><td>arbitraire bidirectionnel</td><td>centralisé</td><td>1 - initiateur</td><td>Non</td><td>2 * M</td><td>O(N)</td></tr>
<tr><td>Phase</td><td>arbitraire</td><td>décentralisé</td><td>Tous</td><td>Oui</td><td>M * D</td><td>O(D²)</td></tr>
</tbody></table>
</div>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="lalgorithme-de-lanneau"><a class="header" href="#lalgorithme-de-lanneau">L'algorithme de l'anneau</a></h1>
<hr />
<h2 id="p-initiateur"><a class="header" href="#p-initiateur">\(p\) initiateur:</a></h2>
<p>\[
\begin{align}</p>
<p>S_p: &amp;\left { \text{ spontanément, une fois }\right} \\
&amp;\text{envoi } &lt;&gt; \text{ au successor } \\\\</p>
<p>R_p: &amp;\left { \text{ un message } &lt;&gt; \text{ arrive }\right} \\
&amp;\text{réception de } &lt;&gt; \\
&amp;\text{Rec}_p = true\\\</p>
<p>D_p: &amp;\left { \text{Rec}_p\right} \\
&amp;\text{décision}
\end{align}
$$</p>
<h2 id="p-non-initiateur"><a class="header" href="#p-non-initiateur">\(p\) non-initiateur:</a></h2>
<p>$$
\begin{align}</p>
<p>S_p: &amp;\left{ \text{ un message } &lt;&gt; \text{ arrive }\right} \\
&amp;\text{envoi } &lt;&gt; \text{ au successor } \\
&amp;\text{Rec}_p = true\\\\\</p>
<p>R_p: &amp;\left { \text{ un message } &lt;&gt; \text{ arrive }\right} \\
&amp;\text{réception de } &lt;&gt; \\
&amp;\text{Rec}_p = true</p>
<p>\end{align}
\]</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne</p>
<h1 id="lalgorithme-de-larbre"><a class="header" href="#lalgorithme-de-larbre">L'algorithme de l'arbre</a></h1>
<hr />
<p>algorithme symétrique</p>
<pre><code>R_p : { un message &lt;&gt; arrive de q }
	réception de &lt;&gt;;
	Rec_p[q] = true;

S_p : { exists q in Vois_p : for all r in Vois_p, r != q : Rec_p[r] et !sent_p }
	envoie &lt;&gt; à q;
	sent_p = true;

D_p : { forall q in Vois_p : Rec_p[q] }
	décision
</code></pre>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="exclusion-mutuelle"><a class="header" href="#exclusion-mutuelle">Exclusion mutuelle</a></h1>
<hr />
<p><strong>Objectif</strong>. coordonner des processus se partageant une resource commune.</p>
<blockquote>
<p>On va étudier le cas ou les processus sont repartis et ne communiquent que par passage de messages</p>
</blockquote>
<h2 id="transitions-dun-processus"><a class="header" href="#transitions-dun-processus">Transitions d'un processus</a></h2>
<p>états: <code>requesting</code>, <code>not_requesting</code>, <code>critical_section</code></p>
<pre><code>┌──────────┐   request()   ┌─────────┐
│ not_req  ├──────────────►│   req   │
└──────────┘               └────┬────┘
      ▲                         │     
      │                         │     
  release()                  aquire() 
      │      ┌──────────┐       │     
      └──────┤ crit_sec │◄──────┘     
             └──────────┘             
</code></pre>
<p>Un algorithme d'exclusion mutuelle doit garantir:</p>
<ul>
<li>au plus un processus exécutant la section critique</li>
<li>pas d’interblocage</li>
<li>pas de famine</li>
</ul>
<p>algorithmes centralisés <a href="2b8a-distributed-mutex-centralized.html">2b8a-distributed-mutex-centralized</a></p>
<p>algorithmes répartis <a href="2b8b-distributed-mutex-non-centralized.html">2b8b-distributed-mutex-non-centralized</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="exclusion-mutuelle-centralisée"><a class="header" href="#exclusion-mutuelle-centralisée">Exclusion mutuelle centralisée</a></h1>
<hr />
<ul>
<li>Le processus coordinateur est le seul à prendre une décision sur l'accès à la section critique</li>
<li>Tous les infos nécessaires pour l'algorithme sont concentrés dans le coordinateur. <em>e. g.</em> une file d'attente (FA)</li>
</ul>
<h2 id="evaluation"><a class="header" href="#evaluation">Evaluation</a></h2>
<ul>
<li>On a besoin d'échanger au moins 3 messages par exécution de section critique: request, confirmation d'acquis, sors de la section critique</li>
<li><strong>equitable</strong>. les requêtes sont traitées par ordre d'arrivée</li>
<li><strong>inconvénients</strong>:
<ul>
<li>goulot d'étranglement sur le coordinateur</li>
<li>panne du coordinateur relativement complexe à résoudre</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="exclusion-mutuelle-répartie"><a class="header" href="#exclusion-mutuelle-répartie">Exclusion mutuelle répartie</a></h1>
<hr />
<h2 id="à-base-de-permission"><a class="header" href="#à-base-de-permission">à base de permission</a></h2>
<ul>
<li>afin d'entrer en section critique, un processus doit demander la permission à d'autre processus</li>
<li>le droit d'entrée en section critique est acquis lorsque le processus a obtenu un nombre suffisant de permissions</li>
</ul>
<h3 id="algorithmes-1"><a class="header" href="#algorithmes-1">algorithmes</a></h3>
<p>Lamport <a href="2b8b1-lamport-mutex.html">2b8b1-lamport-mutex</a></p>
<p>Ricard-Agrawala <a href="2b8b2-ricart-agrawala-mutex.html">2b8b2-ricart-agrawala-mutex</a></p>
<p>Maekawa <a href="2b8b3-maekawa-mutex.html">2b8b3-maekawa-mutex</a></p>
<h2 id="à-base-de-jeton"><a class="header" href="#à-base-de-jeton">à base de jeton</a></h2>
<ul>
<li>La permission pour rentrer en section critique est réalisée par la possession d'un jeton
<ul>
<li>l'unicité du jeton assure la <strong>sûreté</strong></li>
</ul>
</li>
<li>Le mouvement perpétuel du jeton assure la <strong>vivacité</strong></li>
</ul>
<h3 id="algorithmes-2"><a class="header" href="#algorithmes-2">algorithmes</a></h3>
<p>On étudie des algorithmes qui dependent d'une topologie particulière</p>
<ul>
<li>anneau. l'algorithme de Martin <a href="2b8b4-martin-mutex.html">2b8b4-martin-mutex</a></li>
<li>graphe complet. l'algorithme de Susuki-Kasami <a href="2b8b5-susuki-kasami-mutex.html">2b8b5-susuki-kasami-mutex</a></li>
<li>arbre.
<ul>
<li>l'algorithme de Raymond <a href="2b8b6-raymond-mutex.html">2b8b6-raymond-mutex</a></li>
<li>l'algorithme de Naimi-Trehel <a href="2b8b7-naimi-trehel-mutex.html">2b8b7-naimi-trehel-mutex</a></li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="lamport-mutex-1978"><a class="header" href="#lamport-mutex-1978">Lamport mutex (1978)</a></h1>
<hr />
<h2 id="hypothèse"><a class="header" href="#hypothèse">Hypothèse</a></h2>
<ul>
<li>N processus</li>
<li><strong>Canaux FIFO</strong></li>
</ul>
<blockquote>
<p>Si les canaux ne sont pas FIFO, l'exclusion mutuelle n'est pas garantie</p>
</blockquote>
<h2 id="messages"><a class="header" href="#messages">Messages</a></h2>
<ul>
<li>types:
<ul>
<li><code>REQUEST</code></li>
<li><code>REPLY</code></li>
<li><code>RELEASE</code></li>
</ul>
</li>
<li>contenu: <code>(type, (H_i, S_i))</code></li>
</ul>
<h2 id="variables-locales-du-processus-i"><a class="header" href="#variables-locales-du-processus-i">Variables locales du processus i</a></h2>
<ul>
<li><code>H_i</code>. horloge logique scalaire</li>
<li><code>FA_i</code>. file d'attente de requêtes
<ul>
<li>dans l'ordre induit par la valeur de leurs estampilles</li>
</ul>
</li>
<li><code>At_i</code>. attente de permission</li>
</ul>
<h2 id="lalgorithme"><a class="header" href="#lalgorithme">L'algorithme</a></h2>
<h3 id="variables-locales"><a class="header" href="#variables-locales">Variables locales</a></h3>
<pre><code>FA_i = {}
H_i = 0
At_i = 0
R_i = {1, 2, ..., N} - {S_i}
</code></pre>
<h3 id="request_sc"><a class="header" href="#request_sc">Request_SC</a></h3>
<pre><code>H_i++;
Placer sa requête req_i dans la file d'attente;
Envoyer REQUEST à tous les autres sites (At_i = R_i - S_i)
Attendre l'accord de tous dles autres sites (REPLY) et que sa propre requête soit la plus ancienne de toutes (At_i = {} et req_i == head(FA_i));
</code></pre>
<h3 id="release_scs_j"><a class="header" href="#release_scs_j">Release_SC(S_j)</a></h3>
<pre><code>H_i++;
Diffuser un message RELEASE à tous les autres sites (R_i - {S_j});
Enlever sa requête req_i de la file d'attente FA_i;
</code></pre>
<h3 id="receptionmsg-de-s_j"><a class="header" href="#receptionmsg-de-s_j">Reception(msg de S_j)</a></h3>
<pre><code>Mettre à jour H_i (H_i = max(H_i, H_j) + 1);
Switch(type msg)
	REQUEST:
	    FA_i.push(msg S_j) dans l'ordre des estampilles;
	    send(REPLY, S_j);
	REPLY:
		At_i = At_i - {S_j};
	RELEASE:
		FA_i = FA_i - {msg S_j};
</code></pre>
<h2 id="evaluation-1"><a class="header" href="#evaluation-1">Evaluation</a></h2>
<ul>
<li>\(3(N-1)\) messages par exécution de section critique</li>
<li><strong>sûreté</strong>. seul le site en tête de la file d'attente <code>FA</code> pourra rentrer en section critique. Les autres attendent que cette demande soit retirée avec un reception de RELEASE</li>
<li><strong>vivacité</strong>. toute demande finira par avoir la plus petite estampille et donc se trouvera en tête de la file d'attente</li>
<li><strong>equitable</strong>. par l'ordre total</li>
<li><strong>avantage</strong>. simplicité (en fonctionnement normal)</li>
<li><strong>inconvénients</strong>.
<ul>
<li>hypothèse de canaux FIFO</li>
<li>pas extensible</li>
</ul>
</li>
</ul>
<blockquote>
<p>amélioré par Ricart-Agrawala <a href="2b8b2-ricart-agrawala-mutex.html">2b8b2-ricart-agrawala-mutex</a></p>
</blockquote>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="ricart-agrawala-1981"><a class="header" href="#ricart-agrawala-1981">Ricart-Agrawala (1981)</a></h1>
<hr />
<p>C'est une amelioration de l'algorithme de Lamport <a href="2b8b1-lamport-mutex.html">2b8b1-lamport-mutex</a></p>
<ul>
<li>File d'attente. chaque processus P_i ne conserve dans sa file d'attente FA_i que les requêtes dont l'acquittement a été différé.</li>
<li><code>RELEASE</code> est remplacé par le message <code>REPLY</code> qui possède le sens 'dune autorisation d'accès, délivrée de façon conditionnelle.</li>
</ul>
<h2 id="hypothèse-1"><a class="header" href="#hypothèse-1">Hypothèse</a></h2>
<ul>
<li>N processus connu de tous</li>
<li><strong>communication fiable mais pas FIFO</strong></li>
</ul>
<h2 id="messages-1"><a class="header" href="#messages-1">Messages</a></h2>
<ul>
<li>types:
<ul>
<li><code>REQUEST</code>. demande d'entrer en section critique</li>
<li><code>REPLY</code>. réponse à la reception d'un message <code>REQUEST</code></li>
<li><del><code>RELEASE</code></del></li>
</ul>
</li>
<li>contenu: <code>(type, (H_i, S_i))</code></li>
</ul>
<h2 id="variables-locales-du-processus-i-1"><a class="header" href="#variables-locales-du-processus-i-1">Variables locales du processus i</a></h2>
<ul>
<li><code>H_i</code>. horloge logique scalaire</li>
<li><code>FA_i</code>. file d'attente de requêtes
<ul>
<li>dans l'ordre induit par la valeur de leurs estampilles</li>
</ul>
</li>
<li><code>At_i</code>. attente de permission</li>
<li><code>Etat_i</code>. <code>req</code>, <code>not_req</code>, <code>crit_sec</code></li>
</ul>
<h2 id="lalgorithme-1"><a class="header" href="#lalgorithme-1">L'algorithme</a></h2>
<h3 id="variables-locales-1"><a class="header" href="#variables-locales-1">Variables locales</a></h3>
<pre><code>FA_i = {}
H_i = 0
At_i = 0
R_i = {1, 2, ..., N} - {S_i}
</code></pre>
<h3 id="request_sc-1"><a class="header" href="#request_sc-1">Request_SC</a></h3>
<pre><code>H_i++;
Envoyer REQUEST à tous les autres sites (At_i = R_i - S_i)
Attendre l'accord de tous dles autres sites (REPLY);
</code></pre>
<h3 id="release_scs_j-1"><a class="header" href="#release_scs_j-1">Release_SC(S_j)</a></h3>
<pre><code>H_i++;
Diffuser un message REPLY à tous les autres sites differés dans la FA_i;
</code></pre>
<h3 id="receptionmsg-de-s_j-1"><a class="header" href="#receptionmsg-de-s_j-1">Reception(msg de S_j)</a></h3>
<pre><code>Mettre à jour H_i (H_i = max(H_i, H_j) + 1);
&lt;...&gt;
</code></pre>
<h2 id="evaluation-2"><a class="header" href="#evaluation-2">Evaluation</a></h2>
<ul>
<li>\(2(N-1)\) messages par exécution de section critique</li>
<li><strong>sûreté</strong>. seul le site en tête de la file d'attente <code>FA</code> pourra rentrer en section critique. Les autres attendent que cette demande soit retirée avec un reception de RELEASE</li>
<li><strong>vivacité</strong>. toute demande finira par avoir la plus petite estampille et donc se trouvera en tête de la file d'attente</li>
<li><strong>equitable</strong>. par l'ordre total</li>
<li><strong>avantage</strong>s.
<ul>
<li>hypothèse de canaux FIFO plus nécessaire</li>
<li>taille de la file d'attente <code>FA</code> plus petite</li>
<li>moins de messages envoyés par rapport Lamport</li>
</ul>
</li>
<li><strong>inconvénients</strong>.
<ul>
<li>pas extensible</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="maekawa-1985"><a class="header" href="#maekawa-1985">Maekawa (1985)</a></h1>
<hr />
<ul>
<li>Chaque site ne peut donner sa permission qu'a un seul site à la fois</li>
<li>Chaque site S_i appartient à un ensemble (quorum) RS_i (Request Set) dont il doit obtenir l'accord (msg LOCKED) de tous les membres pour pouvoir entrer en section critique</li>
<li>Il doit y a voir au moins un site commun entre deux ensembles RS_i et RS_j. Ce site arbitre les conflits. C'est-à-dire:
\(\forall i,j ¸in \left{1,...,N\right} \text{ tq } i\neq j, \text{RS}_i \cap \text{RS}_j \neq \emptyset\)</li>
</ul>
<p>Afin de minimiser le trafic des messages et de demander le même effort à tous les sites:</p>
<ul>
<li>Soit
<ul>
<li>N : nombre de sites</li>
<li>K_i = |RS_i|</li>
<li>D : nombre d'ensembles auquel chaque site appartient</li>
</ul>
</li>
<li>K_i= K, pour tout i dans { 1, ..., N}</li>
<li>S_i est dans RS_i, pour tout S_i dans { S_1, ...,S_n }</li>
<li>Pour tous i != j dans { 1,..., N}, S_i et S_j appartiennent à D ensembles RS</li>
<li>D = K est une possibilité</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="lalgorithme-de-martin"><a class="header" href="#lalgorithme-de-martin">L'algorithme de Martin</a></h1>
<hr />
<p>Le jeton circule dans le sens inverse des requêtes
Quand S_i veut entrer en section critique, il envoie une requête à son successeur et attend le jeton. En recevant une requête de son prédécesseur, si S_j ne possède pas le jeton, il retransmet la requête à son successeur. Sinon, s'il le possède et ne l'utilise pas, il l'envoie à son prédécesseur.</p>
<h2 id="evaluation-3"><a class="header" href="#evaluation-3">Evaluation</a></h2>
<ul>
<li>Nombre de messages: \(2(K+1)\), dont K est le nombre de sites entre le demandeur et le site en possession du jeton</li>
<li>avantages
<ul>
<li>simplicité</li>
<li>pas de diffusion</li>
</ul>
</li>
<li>inconvénients
<ul>
<li>pas extensible</li>
<li>un site qui n'est pas intéressé par la section critique est souvent solicité à transmettre les requêtes et le jeton</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="lalgorithme-de-susuki-kasami"><a class="header" href="#lalgorithme-de-susuki-kasami">L'algorithme de Susuki-Kasami</a></h1>
<hr />
<p>À chaque envoi du jeton, le processus expéditeur envoie aussi la file d'attente et un tableau qu'a l'information de la dernière demande d'entrée en section critique.</p>
<h2 id="types-de-message"><a class="header" href="#types-de-message">Types de message</a></h2>
<ul>
<li><code>REQUEST (S_j, k)</code>. indique que site <code>S_j</code> est en train de faire sa <code>k</code>-ème demande d'entrée en section critique</li>
<li><code>TOKEN (Q, LN)</code>
<ul>
<li><code>Q</code>. une file d'attente de demandes pour entrer en section critique</li>
<li><code>LN</code>. <code>LN[i]</code> indique le numéro de la dernière demande d'entrée en section critique du site <code>S_i</code> qui a été satisfaite</li>
</ul>
</li>
</ul>
<h2 id="lalgorithme-2"><a class="header" href="#lalgorithme-2">l'algorithme</a></h2>
<h3 id="variables"><a class="header" href="#variables">variables</a></h3>
<ul>
<li><code>etat_i</code>. <code>req</code>, <code>not_req</code>, <code>crit_seq</code></li>
<li><code>token_i</code></li>
<li><code>RN_i</code>
<ul>
<li><code>RN_i[j]</code> est le numéro de la dernière requête reçue de la part du site <code>S_j</code></li>
<li><code>RN_i[i]</code> correspond au nombre de requêtes faites par le site <code>S_i</code></li>
</ul>
</li>
<li><code>LN_i</code>. vecteur de N positions de requêtes satisfaites</li>
</ul>
<h3 id="initialisation-s_i"><a class="header" href="#initialisation-s_i">initialisation (S_i)</a></h3>
<pre><code>token = S_i == S_1
etat = not_req
RN = [ 0 for j in 1...N ]
LN = [ 0 for j in 1...N ]
Q = {}
</code></pre>
<h3 id="request_csi"><a class="header" href="#request_csi">Request_CS(i)</a></h3>
<pre><code>etat = req

if token == false
	RN[i]++
	diffuser (REQUEST (S_i, RN[i]))
	/* attendre token == true */

etat = crit_sec
</code></pre>
<h3 id="release_csi"><a class="header" href="#release_csi">Release_CS(i)</a></h3>
<pre><code>LN[i] = RN[i]

for site in [ 1,...,N ]
	if site != i et not site dans Q and RN[site] &gt; LN[site]
		Q.push_back(site)

if Q not empty
	token = false
	site = Q.pop()
	send(TOKEN(Q, LN)) à site

etat = not_req
</code></pre>
<h3 id="receive_request_css_j-requestj-k"><a class="header" href="#receive_request_css_j-requestj-k">Receive_request_CS(S_j, REQUEST(j, k))</a></h3>
<pre><code>RN[j] = max(RN[j], k)

if token == true and etat == not_req and RN[j] &gt; LN[j]
	token = false
	send(TOKEN(Q, LN)) à S_j
</code></pre>
<h3 id="receive_tokentokenq-ln"><a class="header" href="#receive_tokentokenq-ln">Receive_token(TOKEN(Q, LN))</a></h3>
<pre><code>token = true
LN = TOKEN.LN
Q = TOKEN.Q
</code></pre>
<h2 id="evaluation-4"><a class="header" href="#evaluation-4">Evaluation</a></h2>
<ul>
<li>Nombre de messages par exécution de section critique
<ul>
<li>N, si le processus n'a pas le jeton</li>
<li>0, si le processus a le jeton</li>
</ul>
</li>
<li>vivacité. garantie par l'ordre FIFO de la file Q</li>
<li>inconvenient. pas extensible</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="lalgorithme-de-raymond"><a class="header" href="#lalgorithme-de-raymond">L'algorithme de Raymond</a></h1>
<hr />
<p>Les processus sont organisés en <strong>arbre</strong> ayant pour racine le site qui possède le jeton. Les arêtes sont orientés vers la racine</p>
<p>Les demandes du jeton sont propagées vers la racine et sont enregistrées dans une file local sur chaque site du trajet</p>
<p>Chaque nœud possède</p>
<ul>
<li>une variable <code>holder</code> qui pointe en direction du nœud racine.</li>
<li>file FIFO pour sauvegarde les requêtes pendantes de ses voisins
L'arbre est modifié (inversion du pointeur) à chaque transmission su jeton</li>
</ul>
<h2 id="lalgorithme-3"><a class="header" href="#lalgorithme-3">l'algorithme</a></h2>
<ul>
<li>Lorsqu'un nœud demande le jeton ou reçoit une requête pour le jeton de ses voisins, le nœud ajoute la requête dans sa file locale. Si la file était vide, il renvoie un requête à son <code>holder</code>.</li>
<li>En recevant une requête, le nœud qui possède le jeton le libère lorsqu'il ne l'utilise plus. À chaque libération du jeton, un nœud inverse la direction de <code>holder</code>.</li>
<li>Lorsqu'un nœud reçoit le jeton, il enlève le premier élément (<code>first</code>) de sa file.
<ul>
<li>Si <code>first</code> est le propre nœud, il rentre en section critique</li>
<li>Sinon, le jeton est renvoyé à <code>first</code></li>
</ul>
</li>
<li>Si la file n'est pas vide, une requête pour le jeton est renvoyé au voisin</li>
</ul>
<blockquote>
<p>si on ignore les directions des arcs, la topologie de l'arbre n'est pas modifié.</p>
</blockquote>
<h2 id="evaluation-5"><a class="header" href="#evaluation-5">Evaluation</a></h2>
<ul>
<li>Entre 0 et N messages par demande de section critique</li>
<li>moyenne de O(log(N)) messages par exécution de section critique</li>
<li><strong>avantages</strong>.
<ul>
<li>extensibilité</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#algorithmes #fr #distributedalgorithms #sorbonne #mutex</p>
<h1 id="lalgorithme-de-naimi-trehel"><a class="header" href="#lalgorithme-de-naimi-trehel">L'algorithme de Naimi-Trehel</a></h1>
<hr />
<p>On a deux estructures de données:</p>
<ul>
<li>File de requêtes (<code>next</code>)
<ul>
<li>Le processus en tête de la file possède le jeton</li>
<li>Le processus à la fin de la file est le dernier processus qui a fait une requête pour entrer en section critique</li>
<li>Une nouvelle requête est toujours placée en fin de la file</li>
</ul>
</li>
<li>Arbre de chemins vers le dernier demandeur (<code>father</code>)
<ul>
<li>Le dernier demandeur est la racine de l'arbre</li>
<li>Une nouvelle requête est transmise à travers un chemin de pointeurs <code>father</code> jusqu'à la racine de l'arbre (<code>father</code> == nil)
<ul>
<li>Reconfiguration <strong>dynamique</strong> de l'arbre. Le nouveau demandeur devient la nouvelle racine de l'arbre</li>
<li>Les sites dans le chemin compris entre la nouvelle et l'ancienne racine changent leur pointeur <code>father</code> vers la nouvelle racine</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="lalgorithme-4"><a class="header" href="#lalgorithme-4">L'algorithme</a></h2>
<h3 id="variables-locales-2"><a class="header" href="#variables-locales-2">variables locales</a></h3>
<pre><code>token
requesting
next
father
</code></pre>
<h3 id="initialisation-de-s_i"><a class="header" href="#initialisation-de-s_i">initialisation de S_i</a></h3>
<pre><code>father = S_1;
next = nil;
requesting = false;
token = (father == S_i);

if father == S_i
	father = nil;
</code></pre>
<h3 id="request_css_i"><a class="header" href="#request_css_i">Request_CS(S_i)</a></h3>
<pre><code>requesting = true;

if father != nil
	send(REQUEST, S_i) à father;
	father = nil;

/* attendre token == true */
</code></pre>
<h3 id="release_css_i"><a class="header" href="#release_css_i">Release_CS(S_i)</a></h3>
<pre><code>requesting = true;

if next != nil 
	send(token) à next;
	token = false;
	next = nil;
</code></pre>
<h3 id="receive_request_css_j"><a class="header" href="#receive_request_css_j">Receive_request_CS(S_j)</a></h3>
<pre><code>if father == nil;
	if requesting
		next = S_j;
	else
		token = false;
		send(token) à S_j;
else
	send(REQUEST, S_j) à father;

father = S_j
</code></pre>
<h3 id="receive_tokens_j"><a class="header" href="#receive_tokens_j">Receive_token(S_j)</a></h3>
<pre><code>token = true
</code></pre>
<h2 id="evaluation-6"><a class="header" href="#evaluation-6">Evaluation</a></h2>
<ul>
<li>Entre 0 et N messages par demande de section critique</li>
<li>moyenne de O(log(N)) messages par exécution de section critique</li>
<li><strong>avantages</strong>.
<ul>
<li>extensibilité</li>
<li><strong>adaptativité</strong>. un site qui n'est pas intéressé par la section critique ne sera plus sollicité après quelques transferts de requêtes.</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#fr #distributedalgorithms #sorbonne</p>
<h1 id="detection-de-la-termination"><a class="header" href="#detection-de-la-termination">Detection de la termination</a></h1>
<hr />
<h2 id="definition"><a class="header" href="#definition">Definition</a></h2>
<p>Construction d'une couche de contrôle afin de détecter la terminaison d'une application répartie.</p>
<p>Le <em>but</em> c'est de distinguer l'algorithme de détection de terminaison de l'algorithm de l'application. Il a pas d'influence dans l'exécution de l'application</p>
<ul>
<li>Configuration terminale
<ul>
<li>aucune action supplémentaire de l'appli ne peut être exécutée</li>
<li>tous les canaux de communication sont vides</li>
</ul>
</li>
<li>Etat
<ul>
<li>actif. si une action interne ou l'action emmètre est applicable</li>
<li>inactif. dans le cas contraire</li>
</ul>
</li>
<li>Message
<ul>
<li>applicatif.</li>
<li>contrôle. message de l'algorithme de detection de la terminaison</li>
</ul>
</li>
</ul>
<p>Un modèle est défini pour un exécution répartie en définissant les actions des processus actifs et inactifs</p>
<p>Les processus suivent les <strong>règles</strong> suivantes</p>
<ol>
<li>initialement chaque processus \(p\) peut être dans l’état <em>actif</em> ou <em>inactif</em></li>
<li>un processus \(p\) peut passer spontanément de l’état actif a inactif</li>
<li>seul les processus actifs peuvent envoyer des messages application</li>
<li>lors de la réception d'un message application, un proc \(p\) inactif passe a actif
<ul>
<li>seule façon pour un processus inactif de passer actif
observations</li>
</ul>
</li>
</ol>
<ul>
<li>un message de contrôle émis lorsque le processus est inactif ne le rend pas actif.</li>
<li>la reception d'un message de contrôle non plus.</li>
</ul>
<h2 id="terminaison"><a class="header" href="#terminaison">Terminaison</a></h2>
<ul>
<li>\(P\): ensemble de processus</li>
<li>\(C\): ensemble de canaux</li>
<li>Prédicat TERM
<ul>
<li>TERM &lt;-&gt; (\(\forall p \in P: p \text{ inactif}) \text{ et } (\forall c \in c : C \text{ vide})\)
<ul>
<li>TERM est un prédicat stable:
<ul>
<li>\(\text{TERM}(t) = \text{true} \Rightarrow \forall t' &gt; t: \text{TERM}(t') = \text{true}\)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="propriétés-2"><a class="header" href="#propriétés-2">Propriétés</a></h2>
<ul>
<li><strong>sûreté</strong>. si un proc detecte la terminaison a l'instant \(t\), alors\(\text{TERM}(t) = \text{true}\)
<ul>
<li>pas de fausse detection.</li>
</ul>
</li>
<li><strong>vivacité</strong>. si a un instant \(t, \text{TERM}(t) = \text{true}\), alors l'algorithme de detection finira par détecter cette terminaison.</li>
</ul>
<blockquote>
<p>Example d'un mauvais algo:</p>
</blockquote>
<ul>
<li>les sites se trouve soit dans l'état <em>inactif</em> soit dans l'état <em>actif</em></li>
<li>algo
<ul>
<li>faire circuler un jeton (message contrôle) selon une structure d'anneau, envoyé initialement par \(P_0\)</li>
<li>Lorsqu'un site est inactif et possède le jeton, il l'envoie au site suivant.</li>
<li>lorsque le jeton revient à \(P_0\), la terminaison est détectée</li>
</ul>
</li>
</ul>
<h2 id="algorithmes-3"><a class="header" href="#algorithmes-3">Algorithmes</a></h2>
<ul>
<li>algorithme de Misra (1983) <a href="2b91-algorithme-misra.html">2b91-algorithme-misra</a></li>
</ul>
<h3 id="modèle-à-communication-instantanée"><a class="header" href="#modèle-à-communication-instantanée">Modèle à communication instantanée</a></h3>
<ul>
<li>A communication instantanée
<ul>
<li>communication synchrone: exemple CSP</li>
<li>TERMP &lt;-&gt; forall p in P : p inactif</li>
</ul>
</li>
<li>Atomique
<ul>
<li>le moment d'actividte de procesus est négligeable
<ul>
<li>TERM &lt;-&gt; forall c in C: c vide</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="algorithme-de-rana-1983"><a class="header" href="#algorithme-de-rana-1983">Algorithme de Rana (1983)</a></h4>
<ul>
<li>Communication instantanée (e.g. CSP)</li>
<li>N sites organisés dans un anneau logique unidirectionnel
<ul>
<li>messages transmis sur l'anneau</li>
</ul>
</li>
<li>A chaque fois qu'un processus recoit soit un message applicatif soit un message de controle, il met son horloge logique local a jour</li>
<li>Les messages de controles circulent sur l'anneau</li>
<li>...</li>
<li>...</li>
</ul>
<h5 id="lalgo"><a class="header" href="#lalgo">l'algo</a></h5>
<ul>
<li>lorsqu'un proc devien inactif, il enregistre la valeur de son horloge local (H_ina) et envoie le message de control &lt;H_ina, 1&gt; a son succ</li>
<li>lors de la réception d'un message de controle:
<ul>
<li>si le site est actif, il ignore le message</li>
<li>sinon
<ul>
<li>si compteur != N
<ul>
<li>si la valeur de son passage a inactif H_ina &gt; H_msg du message de control recu, le message est ignoré</li>
<li>Sinon, le message est envoye...</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="algorithme-de-dijkstra-1983"><a class="header" href="#algorithme-de-dijkstra-1983">Algorithme de Dijkstra (1983)</a></h4>
<ul>
<li>modele a communication instantanée</li>
<li>N sites organisés dans un anneau logique</li>
<li>Existence d'un jeton</li>
<li>Les sites peuvent etre de couleur blanc ou noire ainsi que le jeton
<ul>
<li>initialement tous les sites et le jeton son blancs</li>
</ul>
</li>
</ul>
<h5 id="lalgo-1"><a class="header" href="#lalgo-1">l'algo</a></h5>
<ul>
<li>il  y a un site initiateur P_0
<ul>
<li>quand P_0 devient inactif, il envoie le jeton couleur blanche a P_N-1</li>
</ul>
</li>
<li>lorsque le site P_i, qui detient le jeton, devient inactif, P_i envoie le jeton au site P_i-2
<ul>
<li>Si P_i est blanc
<ul>
<li>P_i envoie a P_i-1 le jeton sans changer la couleur du jeotn</li>
</ul>
</li>
<li>sinon
<ul>
<li>P_i change la couleur du jeton a noire avant de l'envoyer a P_i-1</li>
<li>P_i devient blanc</li>
</ul>
</li>
</ul>
</li>
<li>Un site P_i devient noire en envoyant un message applicatif au site P_j</li>
<li>Lorsque P_o recoit le jeton
<ul>
<li>si le jeton est blanc et P_o est blanc et dans l'etat inactif
<ul>
<li>terminaison détectée</li>
<li>sinon
<ul>
<li>lorsque P_0 devient inactif, il renvoie le jeton couleur blanche a P_N-1</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="lalgo-en-utilisant-un-arbre-couvrant"><a class="header" href="#lalgo-en-utilisant-un-arbre-couvrant">l'algo en utilisant un arbre couvrant</a></h5>
<ul>
<li>Racine informe aux feuilles de commencer la détection
<ul>
<li>chaque feuille a un jeton blanc</li>
<li>un site P_i devient noire en envoyant un message applicatif au site P_j</li>
<li>Si P_i est noir:
<ul>
<li>P_i change la couleur du jeton a noire avant de l'envoyaer a son pere</li>
<li>P_i devient blanc</li>
</ul>
</li>
<li>Si P_i a recu un jeton noir d'un de ses enfants, il envoie un jeton tnoir a son pere</li>
<li>...</li>
</ul>
</li>
</ul>
<h3 id="modèle-atomique"><a class="header" href="#modèle-atomique">Modèle atomique</a></h3>
<p>L'algorithme de détection ne voit jamais un processus local dans l'état actif: l'algorithme n'est activé que lorsque le procsssus est inactif</p>
<p>Ex: mauvaise solution avec deux compteurs</p>
<ul>
<li>N procs</li>
<li>supposons qu'un processus i veut savoir si le systeme se trouve dans un etat terminal: tous les canaux vides
<ul>
<li>i envoie un message de controle a tous les N-1 autres procs a un instant t</li>
</ul>
</li>
<li>Chaque processus j répond a i avec le nombre de messages recus r_j(t) et nombre de messages envoyés s_j(t)</li>
<li>en recevant tous les messages, le site i calcule
+
<ul>
<li>...</li>
<li></li>
</ul>
</li>
</ul>
<h3 id="lalgorithme-de-quatre-compteurs"><a class="header" href="#lalgorithme-de-quatre-compteurs">L'algorithme de quatre compteurs</a></h3>
<ul>
<li>Mattern (1987)</li>
<li>Compteur deux fois
<ul>
<li>fin de la premiere vague de controle. l'initiateur accumule les valeurs de s_i(t_i) et r_i(t_i) forall i: 1 &lt;= i &lt;= N dans S et R</li>
<li>fin de la deuxieme vague de controle. l'initiateur accumule les valeurs de s_i(t_i) et r_i(t_i) forall i: 1&lt;=i&lt;=N dans S' et R'</li>
</ul>
</li>
<li>Si R=S', alors, l'exécution s'est terminée à la fin de la premiere vague (à prouver)
il faut bien reviser les preuves</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#fr #distributedalgorithms #sorbonne</p>
<h1 id="algorithme-de-misra-1983"><a class="header" href="#algorithme-de-misra-1983">algorithme de Misra (1983)</a></h1>
<hr />
<ul>
<li>Anneau logique
<ul>
<li>canaux FIFO unidirectionnels</li>
</ul>
</li>
<li>chaque site une couleur noir ou blanc
<ul>
<li>noir -&gt; actif</li>
<li>blanc -&gt; inactif</li>
</ul>
</li>
<li>jeton porte un compteur</li>
<li>N sites</li>
<li>Terminaison: tous les sites sont blanc après un tour</li>
</ul>
<pre><code>init:
	state = actif
	color = black
	if i == 0 :
		token = true
	else
		token = false

Upon fin:
	state = inactif

Upon reception applictation message:
	etat = actif
	color = black

Upon reception TOKEN(count):
	token = true
	nb = count
	if nb == N and color == white
		termination detection


</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>#infosec #security #information #sorbonne #fr</p>
<h1 id="sécurité-des-systèmes-dinformation"><a class="header" href="#sécurité-des-systèmes-dinformation">Sécurité des systèmes d'information</a></h1>
<hr />
<p>La sécurité des systèmes d'information est un ensemble des techniques, outils pratiques et politiques visant garantir la sûreté (<a href="3a-surete.html">3a-surete</a>) et la sécurité(<a href="3b-securite.html">3b-securite</a>) des systèmes d'information. Il est fortement liée aux données, sa <a href="3a1-disponibilit%C3%A9">disponibilité</a>, <a href="3b5-integrite">intégrité</a> et <a href="3b4-confidentialite">confidentialité</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #infosec #fr</p>
<h1 id="sûreté"><a class="header" href="#sûreté">Sûreté</a></h1>
<hr />
<p>C'est le degré de confiance que peut accorder les utilisateurs dans le service délivré.
Elle est liée à la disponibilité  (<a href="3a1-disponibilit%C3%A9.html">3a1-disponibilité</a>) et la fiabilité (<a href="3a2-fiabilit%C3%A9.html">3a2-fiabilité</a>).</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #infosec #fr</p>
<h1 id="disponibilité-1"><a class="header" href="#disponibilité-1">Disponibilité <sup class="footnote-reference"><a href="#1">1</a></sup></a></h1>
<hr />
<p>C'est la capacité à être prêt à délivrer le service (dans les meilleures conditions) <sup class="footnote-reference"><a href="#2">2</a></sup></p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>de l'anglais: availability</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Module SASI, 2025, Sorbonne</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#infosec #sorbonne #fr</p>
<h1 id="fiabilité-1"><a class="header" href="#fiabilité-1">Fiabilité <sup class="footnote-reference"><a href="#1">1</a></sup></a></h1>
<hr />
<p>C'est la propriété ou caractère d'un système d'assurer la continuité de ses services (pas d’arrêt) <sup class="footnote-reference"><a href="#2">2</a></sup></p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>de l'anglais: reliability</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Module SASI, 2025, Sorbonne</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #infosec #fr</p>
<h1 id="sécurité"><a class="header" href="#sécurité">Sécurité</a></h1>
<hr />
<p>La sécurité de fonctionnement d'un système d'information se décompose en deux aspects:</p>
<ul>
<li><em>safety</em> <a href="3b1-safety.html">3b1-safety</a></li>
<li><em>security</em> <a href="3b2-security.html">3b2-security</a></li>
</ul>
<p>Selon le cours SAS, il faut retenir <em>les 5 piliers de la sécurité</em>:</p>
<ul>
<li>confidentialité <a href="3b4-confidentialite.html">3b4-confidentialite</a></li>
<li>authentification <a href="3b3-authentification.html">3b3-authentification</a></li>
<li>intégrité <a href="3b5-integrite.html">3b5-integrite</a></li>
<li>non répudiation <a href="3b6-non-repudiation.html">3b6-non-repudiation</a></li>
<li>auditabilité <a href="3b7-auditabilite.html">3b7-auditabilite</a>
on considere aussi la vie privée et l'anonymat <a href="3b8-vie-privee.html">3b8-vie-privee</a>, <a href="3b9-anonymat.html">3b9-anonymat</a></li>
</ul>
<p>Les politiques de sécurité <a href="3b10-security-policies.html">3b10-security-policies</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #fr #infosec</p>
<h1 id="safety"><a class="header" href="#safety">Safety</a></h1>
<hr />
<p>évitement des situations catastrophiques.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#infosec #sorbonne #securitypolicy</p>
<h1 id="les-politiques-de-sécurité"><a class="header" href="#les-politiques-de-sécurité">Les politiques de sécurité</a></h1>
<hr />
<h2 id="Étapes-pour-une-politique-de-sécurité"><a class="header" href="#Étapes-pour-une-politique-de-sécurité">Étapes pour une politique de sécurité</a></h2>
<ol>
<li>Definition de la politique</li>
<li>Identification des vulnérabilités.</li>
<li>Évaluation des probabilités associées à chacune des menaces</li>
<li>Évaluation du coût d'une intrusion réussie</li>
<li>Choix des contre mesures</li>
<li>Évaluation des coûts et de l'adéquation des contres mesures</li>
<li>Décision. Application et mis en place de solution.</li>
</ol>
<p>La réalisation d'une politique de sécurité résulte de la mise en oeuvre <strong>cohérente</strong> de</p>
<ul>
<li>moyens physiques</li>
<li>moyens informatiques</li>
<li>règles d'organisation et moyens procéduraux
Ces moyens doivent être</li>
<li>complets</li>
<li>non contradictoires et raisonnablement contraignants</li>
<li>homogènes par rapport aux risques et aux attaques considérés</li>
<li>respectés
La base de la réalisation de la sécurité sont</li>
<li><strong>le confinement</strong></li>
<li><strong>le principe du moindre privilège</strong></li>
</ul>
<h2 id="mèthodes"><a class="header" href="#mèthodes">Mèthodes</a></h2>
<ul>
<li>MEHARI. Methode Harmonisée d'Analyse de RIsques</li>
<li>EBIOS. Expression des Besoins et Identification des Objectifs de Sécurité</li>
<li>ISO/CEI 27XXX</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #infosec #fr</p>
<h1 id="security"><a class="header" href="#security">Security</a></h1>
<hr />
<p>préservation de la confidentialité et de l’intégrité des informations.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #fr #infosec</p>
<h1 id="authentification"><a class="header" href="#authentification">authentification</a></h1>
<hr />
<p>C'est la propriété qui assure la reconnaissance sûre de l’identité d’une entité. Il protège contre l'usurpation d'identité <a href="3b3f-deguissement-mascarade.html">3b3f-deguissement-mascarade</a>
On propose un défi à l'entité que veut authentifier dans un système: un mot de passe, une identification, un jeton, un graphisme, etc.</p>
<p>Il y a tellement des méthodes d'authentification...</p>
<p>kerberos <a href="3b3a-kerberos.html">3b3a-kerberos</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#infosec #cybersec #auth #fr</p>
<h1 id="kerberos-protocol"><a class="header" href="#kerberos-protocol">Kerberos protocol</a></h1>
<hr />
<p>Développé au MIT pour  le projet Athena, c'est un protocole d'authentification mais pas de autorisation. C'est-à-dire, même si la plateforme procure l'information des droits, c'est à les applications de les vérifier.
Il fonctionne en utilisant des <em>tickets</em> (<a href="3b3d-kerberos-tickets.html">3b3d-kerberos-tickets</a>). Les tickets sont demandés au KDC (<a href="3b3b1-kerberos-kdc.html">3b3b1-kerberos-kdc</a>) et sont utilisé pour s'authentifier dans les différents services de la réseau.
Le protocol utilise du cryptage symétrique.</p>
<h2 id="ports-utilisés"><a class="header" href="#ports-utilisés">Ports utilisés</a></h2>
<p>Au niveau de transport, Kerberos utilise par default:</p>
<div class="table-wrapper"><table><thead><tr><th>type</th><th>port</th></tr></thead><tbody>
<tr><td>TCP</td><td>88</td></tr>
<tr><td>UDP</td><td>88</td></tr>
</tbody></table>
</div>
<p>workflow <a href="3b3e-kerberos-workflow.html">3b3e-kerberos-workflow</a>
agentes ou entités dans Kerberos <a href="3b3b-kerberos-agents.html">3b3b-kerberos-agents</a>
clés de chiffrement <a href="3b3c-kerberos-keys.html">3b3c-kerberos-keys</a>
tickets de kerberos <a href="3b3d-kerberos-tickets.html">3b3d-kerberos-tickets</a>
attaques au Kerberos <a href="3b3a1-kerberos-attacks.html">3b3a1-kerberos-attacks</a></p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>https://www.tarlogic.com/es/blog/como-funciona-kerberos/</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>#kerberos #cybersec #attack #fr #activedirectory</p>
<h1 id="attaques-au-protocole-kerberos"><a class="header" href="#attaques-au-protocole-kerberos">Attaques au protocole Kerberos</a></h1>
<hr />
<p>Il y a plein d'attaques au protocole Kerberos.</p>
<ul>
<li>kerberoasting <a href="3b3a2-kerberoasting.html">3b3a2-kerberoasting</a></li>
<li>pass-the-hash attack <a href="3b3a3-pass-the-hash-attack.html">3b3a3-pass-the-hash-attack</a></li>
<li>golden ticket attack <a href="3b3a4-golden-ticket-attack.html">3b3a4-golden-ticket-attack</a></li>
<li>silver ticket attack <a href="3b3a5-silver-ticket-attack.html">3b3a5-silver-ticket-attack</a></li>
</ul>
<h2 id="quelques-outils"><a class="header" href="#quelques-outils">Quelques outils</a></h2>
<ul>
<li><a href="https://github.com/x0pr4nt3s/Tools_enum_AD_without-RSAT">enum AD without RSAT</a></li>
<li><a href="https://github.com/x0pr4nt3s/Other-Tools-AD">Other-Tools-AD</a></li>
<li></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>#kerberos #cybersec #auth #fr #infosec  #activedirectory</p>
<h1 id="agentes-dans-kerberos"><a class="header" href="#agentes-dans-kerberos">Agentes dans Kerberos</a></h1>
<hr />
<p>Grosso modo, on a</p>
<ul>
<li>client ou usager.</li>
<li>le Serveur Application (AP)</li>
<li>Centre de distribution des clés (KDC) <a href="3b3b1-kerberos-kdc.html">3b3b1-kerberos-kdc</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>l#kerberos #fr #infosec #cybersec  #activedirectory</p>
<h1 id="kdc"><a class="header" href="#kdc">KDC</a></h1>
<hr />
<p>Si on parle d'Active Directory, c'est installé dans le Domain Controller.
Il est composé de trois éléments :</p>
<ul>
<li>Le serveur d'authentication (AS)</li>
<li>Le serveur d'attribution des clés (TGS)</li>
<li>la base de données
La compte de service du KDC est <code>krbtgt</code> <a href="3b3b2-kerberos-krbtgt.html">3b3b2-kerberos-krbtgt</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#activedirectory #kerberos #cybersec #fr #todo</p>
<h1 id="krbtgt"><a class="header" href="#krbtgt">krbtgt</a></h1>
<hr />
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kerberos #activedirectory #crypto #fr</p>
<h1 id="clés-dans-kerberos"><a class="header" href="#clés-dans-kerberos">Clés dans Kerberos</a></h1>
<hr />
<p>C'est important d'identifier le role qui jouent des usagers dans kerberos.</p>
<ul>
<li>clé de KDC (krbtgt)</li>
<li>clé d'usager</li>
<li>clé de service</li>
<li>clé de session</li>
<li>clé de session du service</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kerberos #activedirectory #infosec #cybersec #fr</p>
<h1 id="tickets-dans-le-protocole-kerberos"><a class="header" href="#tickets-dans-le-protocole-kerberos">Tickets dans le protocole Kerberos</a></h1>
<hr />
<p>Il y a deux types de tickets:</p>
<ul>
<li>ticket de service (ST) <a href="3b3d2-kerberos-service-ticket.html">3b3d2-kerberos-service-ticket</a></li>
<li>ticket principal (TGT) <a href="3b3d1-kerberos-ticket-tgt.html">3b3d1-kerberos-ticket-tgt</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kerberos #crypto #activedirectory #infosec #fr #cybersec</p>
<h1 id="ticket-granting-ticket"><a class="header" href="#ticket-granting-ticket">Ticket Granting Ticket</a></h1>
<hr />
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#kerberos #activedirectory #cybersec #fr</p>
<h1 id="le-workflow-de-kerberos"><a class="header" href="#le-workflow-de-kerberos">Le workflow de Kerberos</a></h1>
<hr />
<p>Tout d'abord, le client n'a aucun ticket. Du coup, il demande un TGT (<a href="3b3d1-kerberos-ticket-tgt.html">3b3d1-kerberos-ticket-tgt</a>) en envoyant un Kerberos Authentication Service Request qui contient le nom d'usager, le nom du service (maintenant kerberos), et un <em>timestamp</em> chiffré avec le hash NTLM (<a href="2a1a-ntlm-hash-function.html">2a1a-ntlm-hash-function</a>) de l'usager.</p>
<pre><code>user -----------------&gt;  KDC (DC)
	  [1] KRB_AS_REQ
	 &lt;-----------------
	  [2] KRB_AS_REP   
	 -----------------&gt; 
	  [3] KRB_TGT_REQ
	 &lt;-----------------
	  [4] KRB_TGT_REP   
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #infosec #fr</p>
<h1 id="déguisement-mascarade"><a class="header" href="#déguisement-mascarade">déguisement (mascarade)</a></h1>
<hr />
<p>Pour rentrer dans un système, on essaye de piéger des usagers et de se faire passer pour quelqu'un d'autre (usurpation d’identité)</p>
<h2 id="exemples-5"><a class="header" href="#exemples-5">Exemples</a></h2>
<ul>
<li>simulation d'interface système sur écran</li>
<li>simulation de terminal à carte bancaire</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #fr #infosec</p>
<h1 id="confidentialité"><a class="header" href="#confidentialité">confidentialité</a></h1>
<hr />
<p>C'est la propriété qui assure qu'une information ne peut être lue que par des entités habilitées (selon des contraintes précises)</p>
<h2 id="méthodes--et-outils-pour-sauvegarder-la-confidentialité"><a class="header" href="#méthodes--et-outils-pour-sauvegarder-la-confidentialité">méthodes  et outils pour sauvegarder la confidentialité</a></h2>
<ul>
<li>cryptographie. <a href="3b4a-cryptographie.html">3b4a-cryptographie</a></li>
<li></li>
</ul>
<h2 id="attaques-à-la-confidentialité"><a class="header" href="#attaques-à-la-confidentialité">attaques à la confidentialité</a></h2>
<ul>
<li>man in the middle.</li>
<li>analyse de trafic</li>
<li>inférence.</li>
</ul>
<h3 id="attaques-par-violation-de-protocole"><a class="header" href="#attaques-par-violation-de-protocole">attaques par violation de protocole</a></h3>
<ul>
<li>envoie de données non prévues (trames mal-formées, séquence non prévues)</li>
</ul>
<h3 id="attaque-par-saturation"><a class="header" href="#attaque-par-saturation">attaque par saturation</a></h3>
<ul>
<li>envoie des messages trop nombreux provoquant un écroulement des systèmes et réseaux. DDoS.</li>
</ul>
<h3 id="attaques-sociales"><a class="header" href="#attaques-sociales">attaques sociales</a></h3>
<ul>
<li>arnaques</li>
<li>extorsion</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#crypto #infosec #fr #sorbonne</p>
<h1 id="cryptographie"><a class="header" href="#cryptographie">Cryptographie</a></h1>
<hr />
<p>Crypto-système symétrique <a href="3b4a1-symmetric-key-algorithms.html">3b4a1-symmetric-key-algorithms</a></p>
<p>Crypto-système asymétrique <a href="3b4a2-asymmetric-key-algorithm.html">3b4a2-asymmetric-key-algorithm</a></p>
<p>L'efficacité général du cryptage dépend</p>
<ul>
<li>de la confidentialité des secrets</li>
<li>de la difficulté à deviner les secrets ou à essayer toutes les possibilités</li>
<li>de la difficulté de l'inversion de l'algorithme sans connaître la clé</li>
<li>de l'existence de portes par derrière</li>
<li>possibilité de déchiffrement par attaque à text partiellement connu</li>
</ul>
<h2 id="fonctions-à-sens-unique"><a class="header" href="#fonctions-à-sens-unique">Fonctions à sens unique</a></h2>
<p>#todo
C'est une fonction \(f(M)\) facile à calculer mais telle qu'il est extrêmement difficile de déduire \(M\) de \(f(M)\).</p>
<ul>
<li>\(h\) est à collision faible difficile: il est calculatoirement difficile de trouver M significatif tel que \(h(M) = K\) pour un signature \(K\).</li>
<li>\(h\) est à collision forte difficile: il est calculatoirement difficile de trouver deux \(M\) et \(M'\) tel que \(h(M) = h(M')\)
Une fonction de hachage est avec clef si son calcul dépend aussi d'une info secrète.
C'est-à-dire, \(k \neq k' \Rightarrow H_k(M)\neq H_k(M)\) . Voir HMAC (code d'authentification de message de hachage à clé).</li>
</ul>
<p>fonction d'hachage cryptographic <a href="2a1-cryptographic-hash-function.html">2a1-cryptographic-hash-function</a></p>
<h2 id="glossaire"><a class="header" href="#glossaire">Glossaire</a></h2>
<ul>
<li><strong>Décrypter</strong> ou <strong>casser</strong> un code</li>
<li>L'art de définir des codes (de chiffrement) est la <strong>cryptographie</strong></li>
<li>L'art de casser des codes est appelé <strong>cryptanalyse</strong> ou <strong>cryptologie</strong></li>
<li>Le <strong>chiffrement</strong> est donc une transformation d'un texte pour en cacher le sens</li>
<li>Le <strong>déchiffrement</strong> est l'opération inverse permettant de récupérer le text en clair à partir du texte chiffré</li>
<li>Un <strong>crypto-système</strong> est l'ensemble des deux méthodes de chiffrement et de déchiffrement utilisable en sécurité</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#crypto #infosec #fr #sorbonne</p>
<h1 id="crypto-système-symétrique"><a class="header" href="#crypto-système-symétrique">Crypto-système symétrique</a></h1>
<hr />
<p>On prefers les crypto-système symétriques à cause de son effectivité pratique pour chiffrer l'info</p>
<h2 id="exemples-6"><a class="header" href="#exemples-6">exemples</a></h2>
<ul>
<li>substitution como alphabétique</li>
<li>substitutions de polygrammes</li>
<li>par transposition</li>
<li>ECB</li>
<li>CBC</li>
<li>DES <a href="3b4a1a-DES.html">3b4a1a-DES</a></li>
<li></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#crypto #infosec #fr #sorbonne</p>
<h1 id="crypto-système-symétrique-1"><a class="header" href="#crypto-système-symétrique-1">Crypto-système symétrique</a></h1>
<hr />
<p>On a une clef publique et une clef privée: deux morceaux du secret.</p>
<h2 id="exemples-7"><a class="header" href="#exemples-7">Exemples</a></h2>
<ul>
<li>RSA <a href="3b4a2a-RSA.html">3b4a2a-RSA</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#todo</p>
<h1 id="rsa"><a class="header" href="#rsa">RSA</a></h1>
<hr />
<h2 id="histoire-1"><a class="header" href="#histoire-1">histoire</a></h2>
<h2 id="algorithme"><a class="header" href="#algorithme">algorithme</a></h2>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #infosec #fr</p>
<h1 id="intégrité"><a class="header" href="#intégrité">intégrité</a></h1>
<hr />
<p>C'est la propriété qui assure qu'une information n'est modifiée que par des entités habilitées (selon des contraintes précises)</p>
<p>L’intégrité peut être vérifiée avec une <strong>signature</strong> ou avec l'<strong>empreinte numérique</strong> d'une fonction d'hachage cryptographique (<a href="2a1-cryptographic-hash-function.html">2a1-cryptographic-hash-function</a>).</p>
<p>fonction signature <a href="3b5b-digital-signature.html">3b5b-digital-signature</a></p>
<p>attaques sur l'intégrité <a href="3b5a-attacks-integrity.html">3b5a-attacks-integrity</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #infosec #attack #integrity</p>
<h1 id="attaques-sur-lintégrité"><a class="header" href="#attaques-sur-lintégrité">Attaques sur l'intégrité</a></h1>
<hr />
<h2 id="intégrité-des-données"><a class="header" href="#intégrité-des-données">intégrité des données</a></h2>
<ul>
<li>Modification des données.</li>
</ul>
<h2 id="intégrité-des-protocoles"><a class="header" href="#intégrité-des-protocoles">intégrité des protocoles</a></h2>
<ul>
<li>répétition de l'opération pour obtenir une fraude.</li>
</ul>
<h2 id="intégrité-des-programmes"><a class="header" href="#intégrité-des-programmes">intégrité des programmes</a></h2>
<ul>
<li>modifications à caractère frauduleux ou de sabotage</li>
<li>infections à caractère unique: introduction d'un comportement illicite avec un trigger</li>
<li>infections auto-reproductrices: virus, ver, rootkit, etc</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#todo #sorbonne #infosec #fr</p>
<h1 id="3b5b-digital-signature"><a class="header" href="#3b5b-digital-signature">3b5b-digital-signature</a></h1>
<hr />
<p>content</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#infosec #sorbonne #fr</p>
<h1 id="non-repudiation"><a class="header" href="#non-repudiation">non repudiation</a></h1>
<hr />
<p>C'est la propriété qui assure que l'auteur d'un acte ne peut ensuite dénier l'avoir effectué. D'un coté, un message ou une transaction ne peut être nié.e par son émetteur. D'autre coté, un récepteur ne peut ultérieurement nier avoir reçu un ordre.</p>
<p>Par contre, on souvent cherche la repudiation pour protéger l'identité d'un témoin ou un source journalistique.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#sorbonne #infosec #soc #fr</p>
<h1 id="auditabilité"><a class="header" href="#auditabilité">auditabilité</a></h1>
<hr />
<p>C'est la propriété qui assure la capacité à détecter et à enregistrer de façon infalsifiable les tentatives de violation de la politique de sécurité.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#infosec #fr #sorbonne</p>
<h1 id="anonymat"><a class="header" href="#anonymat">Anonymat</a></h1>
<hr />
<p>L’anonymat est l’état (dans un « système informatique ») d’être inconnu et non identifiable.</p>
<p>L'anonymat est quelque chose difficile à obtenir aujourd'hui. Pourtant, on peut minimiser l'impact qu'on a sur internet en utilisant des méthodes. <a href="https://www.reddit.com/r/Piracy/wiki/megathread/">r/Piracy</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#cybersec #fr</p>
<h1 id="cyber-sécurité"><a class="header" href="#cyber-sécurité">Cyber sécurité</a></h1>
<hr />
<p>C'est la pratique à proteger les systèmes, les réseaux, les programmes des attaques (<a href="4a-cyber-attaques.html">4a-cyber-attaques</a>).</p>
<div style="break-before: page; page-break-before: always;"></div><p>#cybersec #hacking #fr</p>
<h1 id="cyber-attaques"><a class="header" href="#cyber-attaques">cyber attaques</a></h1>
<hr />
<p>Les cyber attaques e</p>
<p>Les points d'entrée d'un cyber attaques sont des vulnérabilités <a href="4a1-vulnerabilites.html">4a1-vulnerabilites</a>.</p>
<h2 id="classement"><a class="header" href="#classement">Classement</a></h2>
<p>On peut classer les cyber attaques de nombreuses formes.</p>
<p><a href="3b3a1-kerberos-attacks.html">3b3a1-kerberos-attacks</a></p>
<p><a href="4a2-side-channel-attacks.html">4a2-side-channel-attacks</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>#cybersec #fr #vulnerabilites</p>
<h1 id="vulnérabilités"><a class="header" href="#vulnérabilités">vulnérabilités</a></h1>
<hr />
<h2 id="impact"><a class="header" href="#impact">impact</a></h2>
<p>L'impact d'un cyber attaque potentiel à cause d'une vulnérabilité donné peut être quantifier en voyant comment il affecte la <a href="3a1-disponibilit%C3%A9.html">3a1-disponibilité</a>, la <a href="3b4-confidentialite.html">3b4-confidentialite</a> et la <a href="3b5-integrite.html">3b5-integrite</a> de l'information. Il est quantifié en utilisant le <a href="https://www.first.org/cvss/">CVSS</a>.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#cybersec #hacking #fr #sidechannel #attack</p>
<h1 id="attaques-par-canal-auxiliare"><a class="header" href="#attaques-par-canal-auxiliare">attaques par canal auxiliare</a></h1>
<hr />
<p>C'est une attaque dont le but est obtenir information à partir de l'implementation inhérente d'un protocole, algorithm ou architecture.</p>
<p>SysBumps <a href="4a3-sysbumps.html">4a3-sysbumps</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#cybersec #hacking #fr #sidechannel #attack #macos #arm</p>
<h1 id="sysbumps"><a class="header" href="#sysbumps">SysBumps</a></h1>
<hr />
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr</p>
<h1 id="ordinateurs"><a class="header" href="#ordinateurs">Ordinateurs</a></h1>
<hr />
<p>On utilise ordinateur pour faire référence à un dispositif de traitement d'information programmable. Il fonction par lecture séquentielle d'un ensemble d'instructions afin de faire des operations arithmétiques et logiques. Les ensembles d'instructions s'organisent en programmes.</p>
<blockquote>
<p>Attention: a l'anglais et a l'espagnol, on souvent fait pas la difference entres les ordinateurs et les calculateurs (<em>computers</em>, <em>computadoras</em>). De ce que je vois, on utilise le terme 'ordinateur' pour ces qu'en anglais on appelle <em>digital computers</em>.</p>
</blockquote>
<p>ordinateurs mécaniques <a href="5a-mechanic-computers.html">5a-mechanic-computers</a></p>
<p><a href="5d-integrated-circuits.html">5d-integrated-circuits</a></p>
<p>ordinateurs électroniques <a href="5b-digital-computers.html">5b-digital-computers</a></p>
<p>infrastructures virtuelles et conteneurs <a href="5c-virtual-infrastructures.html">5c-virtual-infrastructures</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr</p>
<h1 id="ordinateur-electronique"><a class="header" href="#ordinateur-electronique">Ordinateur electronique</a></h1>
<hr />
<h2 id="parties-dun-ordinateur"><a class="header" href="#parties-dun-ordinateur">Parties d'un ordinateur</a></h2>
<p><a href="5b1-procesor.html">5b1-procesor</a></p>
<p><a href="5b2-peripherics.html">5b2-peripherics</a></p>
<p><a href="5b4-networks.html">5b4-networks</a></p>
<p><a href="5b3-smartphones.html">5b3-smartphones</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr</p>
<h1 id="processeur"><a class="header" href="#processeur">Processeur</a></h1>
<hr />
<p><a href="5b1a-risc-architecture.html">5b1a-risc-architecture</a>
<a href="5b3-cisc-architecture.html">5b3-cisc-architecture</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>mpis32 <a href="5b1a1-mips32.html">5b1a1-mips32</a></p>
<p>arm <a href="5b1a2-arm.html">5b1a2-arm</a></p>
<div style="break-before: page; page-break-before: always;"></div><p><a href="5b1a2a-raspberry-pi.html">5b1a2a-raspberry-pi</a></p>
<p><a href="1g-android.html">1g-android</a></p>
<div style="break-before: page; page-break-before: always;"></div><p><a href="5b1a2a1-raspberry-pi-programming.html">5b1a2a1-raspberry-pi-programming</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="gpios"><a class="header" href="#gpios">GPIOs</a></h2>
<p>Les GPIOs sont associés a l'espace mémoire. Par example, dans la raspberry pi 1B, la direction base commence à <code>0x20200000</code> <a href="5b1a2a1b-rpi-register-organisation.html">5b1a2a1b-rpi-register-organisation</a></p>
<p>I2C <a href="5b1a2a1a-pi-i2c.html">5b1a2a1a-pi-i2c</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>#i2c #peripherics #arm #raspberrypi #drivers #gpio #programming</p>
<h1 id="raspberry-pi-i2c"><a class="header" href="#raspberry-pi-i2c">Raspberry pi I2C</a></h1>
<hr />
<p>Pour information especifique par rapport le bus I2C <a href="5d2-ci-i2c.html">5d2-ci-i2c</a></p>
<p>On a besoin d’installer le package i2c-toolfs pour utiliser l’i2c de la carte Raspberry pi :</p>
<pre><code class="language-bash">sudo apt install -y i2c-tools 
</code></pre>
<pre><code class="language-bash">sudo raspi-config
</code></pre>
<pre><code>i2cdetect
</code></pre>
<hr />
<p>https://arduinofactory.fr/raspberry-pi-i2c/</p>
<div style="break-before: page; page-break-before: always;"></div><p>Cada <code>GPFSELn</code> es un registro de 32 bits, donde cada pin usa <strong>3 bits</strong> para su configuración:</p>
<div class="table-wrapper"><table><thead><tr><th>Bits</th><th>Función</th></tr></thead><tbody>
<tr><td><code>000</code></td><td>Input</td></tr>
<tr><td><code>001</code></td><td>Output</td></tr>
<tr><td><code>100</code></td><td>Fonction alternative 0</td></tr>
<tr><td><code>101</code></td><td>Fonction alternative 1</td></tr>
<tr><td><code>110</code></td><td>Fonction alternative 2</td></tr>
<tr><td><code>111</code></td><td>Fonction alternative 3</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p><a href="1n-drivers.html">1n-drivers</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>#tag #tagg</p>
<h1 id=""><a class="header" href="#"></a></h1>
<hr />
<p>content</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#smartphone #en</p>
<h1 id="smartphones"><a class="header" href="#smartphones">Smartphones</a></h1>
<hr />
<p><a href="1g-android.html">1g-android</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#network #en #sorbonne #fr</p>
<h1 id="computer-networks"><a class="header" href="#computer-networks">Computer networks</a></h1>
<hr />
<p><a href="5b4b-osi-model.html">5b4b-osi-model</a></p>
<p><a href="5b4d-tcp-ip-model.html">5b4d-tcp-ip-model</a></p>
<p><a href="5b4a-communication-protocols.html">5b4a-communication-protocols</a></p>
<h2 id="types-de-réseau"><a class="header" href="#types-de-réseau">types de réseau</a></h2>
<ul>
<li>Topologie
<ul>
<li>peer to peer <a href="2b10-peer-to-peer.html">2b10-peer-to-peer</a></li>
<li>star</li>
<li>cluster tree</li>
<li>mesh</li>
</ul>
</li>
</ul>
<h2 id="solutions-grand-public"><a class="header" href="#solutions-grand-public">Solutions grand public</a></h2>
<ul>
<li>
<p>ZigBee -&gt; réseau d'objets</p>
<ul>
<li>64k noeuds : star, cluster, mesh</li>
<li>autonomie plusieurs années</li>
<li>250 kbs</li>
<li>portée 100m</li>
</ul>
</li>
<li>
<p>Bluetooth -&gt; remplacement de câbles</p>
<ul>
<li>
<ul>
<li>7 noeuds actifs</li>
</ul>
</li>
<li>0.7 à 2 Mbs</li>
<li>portée 10m</li>
</ul>
</li>
<li>
<p>Wi-Fi -&gt; internet</p>
<ul>
<li>32 nœuds : star + roaming</li>
<li>autonomie en heures</li>
<li>11 - x100 Mbs</li>
</ul>
</li>
<li>
<p>Bluetooth Low Energy <a href="5b4a-ble.html">5b4a-ble</a> -&gt; IOT</p>
<ul>
<li>autonomie en années</li>
<li>P2P ou Star nb de nœuds illimité</li>
<li>300 kbs</li>
<li>10 - 100m</li>
</ul>
</li>
<li>
<p>LoRaWAN -&gt; IOT grandes distances</p>
<ul>
<li>5 - 15 km</li>
<li>autonomie en années</li>
<li>star nb de noeuds illimité</li>
<li>50 kbs</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#network #ble #bluetooth</p>
<h1 id="bluetooth-low-energy"><a class="header" href="#bluetooth-low-energy">Bluetooth Low Energy</a></h1>
<hr />
<p>BLE est une norme différente du bluetooth classique. Les usages sont très différents, mais les clients BT sont souvent compatibles avec les deux normes.</p>
<p><strong>Objectif</strong>: fonctionner très longtemps sur une pile bouton plusieurs mois ou plusieurs années.</p>
<ul>
<li>BLE fonctionne sur la bande ISM de 2.4GHz sur 40 bandes espacés chacune de 2MHz.</li>
<li>Utilise FHSS</li>
<li>10kBs de vitesse de transmission</li>
<li>Portée a 3m - 50m théorique mais 3 - 5m en pratique</li>
<li>Paquets courts (~20B) =&gt; moins de mémoire</li>
</ul>
<p>The Host protocol layers and the Controller protocol layer are connected by a Host-Controller Interface (HCI).</p>
<p>Roles:</p>
<ul>
<li>Broadcaster</li>
<li>Observer</li>
<li>Peripheral</li>
<li>Central</li>
</ul>
<h2 id="host-protocol-layers"><a class="header" href="#host-protocol-layers">Host protocol layers</a></h2>
<h2 id="controller-protocol-layers"><a class="header" href="#controller-protocol-layers">Controller protocol layers</a></h2>
<h3 id="couche-liaison-ll"><a class="header" href="#couche-liaison-ll">Couche Liaison (LL)</a></h3>
<p>Manage the state of the LE Radio.</p>
<p>Les paquets sont identifiés par leur numéro de transaction (Access Address) et pas par le couple d'identifiants (émetteur-destinataire). Cet solution permet d'économiser des octets.</p>
<p>Ce numéro est créé aléatoirement au moment de la connexion entre un master et un slave.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#tag #tagg</p>
<h1 id="5b4a-communication-protocols"><a class="header" href="#5b4a-communication-protocols">5b4a-communication-protocols</a></h1>
<hr />
<p><a href="5b4a1-tcp-protocol.html">5b4a1-tcp-protocol</a></p>
<p><a href="5b4a2-udp-protocol.html">5b4a2-udp-protocol</a></p>
<p><a href="5b4a3-mqtt-protocol.html">5b4a3-mqtt-protocol</a></p>
<p>content</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#iot #sorbonne #network</p>
<h1 id="message-queuing-telemetry-transport"><a class="header" href="#message-queuing-telemetry-transport">Message Queuing Telemetry Transport</a></h1>
<hr />
<ul>
<li>Modèle publish (topic-value) / subscribe (topic)</li>
<li>décentralisée et asynchrone</li>
<li>basé sur TCP <a href="5b4a1-tcp-protocol.html">5b4a1-tcp-protocol</a></li>
<li>développé par IBM en 1999</li>
<li>adapté aux réseaux sans fils</li>
<li>faible consommation énergétique
Les clients doivent s'abonner et après ils reçoivent que l'information venant des autres clients.</li>
</ul>
<pre><code>publish                      subscribe
┌──────┐                              
│client├──────────┐                   
└──────┘          │           ┌──────┐
                  │   ┌──────►│client│
                  ▼   │       └──────┘
┌──────┐        ┌─────┴┐              
│client├───────►│broker│              
└──────┘        └─────┬┘              
                  ▲   │       ┌──────┐
                  │   └──────►│client│
┌──────┐          │           └──────┘
│client├──────────┘                   
└──────┘                                                
</code></pre>
<h2 id="glossaire-1"><a class="header" href="#glossaire-1">glossaire</a></h2>
<ul>
<li>broker. distribue les informations aux clients intéressés</li>
<li>client. connecté au broker pour envoyer ou recevoir ldes informations</li>
<li>topic. nom du message. les clients publient ou souscrivent au topic
<ul>
<li>Les topics peuvent être hiérarchique: <code>/topic/subtopic</code></li>
</ul>
</li>
<li>publish. envoi d'informations par un client au broker qui les redistribue aux clients abonnés au topic</li>
<li>subscribe. abonnement à un topic pour recevoir les messages publiés. désabonnement possible.</li>
<li>QoS. Quality of Service.
<ul>
<li>
<ol start="0">
<li>au plus une seule fois sans qu'un accusé de réception</li>
</ol>
</li>
<li>
<ol>
<li>au moins une fois, message envoyé plusieurs fois jusqu'à la réception de l'accusé de réception.</li>
</ol>
</li>
<li>
<ol start="2">
<li>spécifie exactement une fois, Clients expéditeurs et destinataires ont la garantie d'une seule copie du message.</li>
</ol>
</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr #sorbonne</p>
<h1 id="infrastructures-virtuelles-et-conteneurs"><a class="header" href="#infrastructures-virtuelles-et-conteneurs">Infrastructures Virtuelles et Conteneurs</a></h1>
<hr />
<p>On les appel aussi IVC. On cherche l'utilisation des composantes logiciels et la virtualisation des certains services. Les IVC tentent de fusionner les deux approches.</p>
<ul>
<li>l'isolation</li>
<li>la gestion des services systèmes et des services applicatifs</li>
</ul>
<p>On cherche aussi</p>
<ul>
<li>virtualisation des applications</li>
<li>virtualisation des serveurs</li>
<li>virtualisation des réseaux</li>
<li>virtualisation du stockage</li>
</ul>
<p><strong>glossaire</strong> <a href="5c8-virtual-infrastructures-glossary.html">5c8-virtual-infrastructures-glossary</a></p>
<p><strong>histoire</strong> <a href="5c9-virtual-infrastructures-history.html">5c9-virtual-infrastructures-history</a></p>
<h2 id="advantages"><a class="header" href="#advantages">advantages</a></h2>
<ul>
<li>Le matériel virtuel émulé reste plus homogène que les matèriels physiques.</li>
<li>Usage plus optimal des ressources parce qu'on peut tailler et contrôler les ressources.</li>
<li>Sécurité: isolation, mise en suspend, surveillance, audit log, forensic analysis plus facile a faire.</li>
</ul>
<h2 id="désavantages"><a class="header" href="#désavantages">désavantages</a></h2>
<ul>
<li>limitation de la puissance</li>
<li>complexification des interactions</li>
</ul>
<h2 id="modèles-génériques-de-virtualisation"><a class="header" href="#modèles-génériques-de-virtualisation">Modèles génériques de virtualisation</a></h2>
<ul>
<li>SaaS <a href="5c5-saas.html">5c5-saas</a></li>
<li>PaaS <a href="5c6-paas.html">5c6-paas</a></li>
<li>IaaS <a href="5c7-iaas.html">5c7-iaas</a></li>
</ul>
<h2 id="types-de-virtualisation"><a class="header" href="#types-de-virtualisation">Types de virtualisation</a></h2>
<ul>
<li>Conteneur <a href="5c2-container.html">5c2-container</a></li>
<li>Virtualisation pure <a href="5c3-virtualisation-pure.html">5c3-virtualisation-pure</a></li>
<li>Hybride <a href="5c4-virtualisation-hybride.html">5c4-virtualisation-hybride</a></li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr #sorbonne #container</p>
<h1 id="conteneurs"><a class="header" href="#conteneurs">Conteneurs</a></h1>
<hr />
<p>isolateur ou virtualisation d'OS</p>
<ul>
<li>pas de système virtualisé. on utilise le même noyau que celui du système hôte.</li>
<li>il y a un couche isolation/virtualisation</li>
<li>isole l'exécution des application dans des contextes d'exécution</li>
<li>très performante et très économique en mémoire</li>
<li>on isole les systèmes des fichiers aussi</li>
</ul>
<h2 id="précurseurs"><a class="header" href="#précurseurs">Précurseurs</a></h2>
<p>Toutes les fonctionnalités des conteneurs reposent sur des services noyaux.</p>
<ul>
<li>ulimit</li>
<li>chroot</li>
<li>pivot_root</li>
<li>mount</li>
<li>namespace</li>
<li>cgroups
#todo</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr #sorbonne #container</p>
<h1 id="virtualisation-pure"><a class="header" href="#virtualisation-pure">Virtualisation pure</a></h1>
<hr />
<p>Création d'une machine complète virtuelle et emulation de tous les éléments d'une machine
Nécessite ce qu'on appelle un hyperviseur pour gérer des machines virtuelles et leur cohabitation.</p>
<p>Pour chaque application du système virtualisé, on fait deux translation d'adresse
EPT (Extended Page Table) permet d'éviter ces conversions en garantissant la sécurité (isolation)</p>
<h2 id="defautes"><a class="header" href="#defautes">Defautes</a></h2>
<ul>
<li>point de défaillance unique</li>
<li>un recours à des machines plus puissantes</li>
<li>dégradation des performances</li>
<li>complexité accrue de l'analyse d'erreurs</li>
<li>parfois inadapté et avec surcoût</li>
</ul>
<h2 id="types"><a class="header" href="#types">types</a></h2>
<ul>
<li>Hyperviseur avec architecture hébergée
emulation de matériel
il peut être multi-kernel
exemples: VirtualBox, QEMU, Vmware (workstation, fusion,player), Microsoft Virtual PC, Parallels desktop,…</li>
<li>Hyperviseur complet
OS virtualisé
MiniOS gestionaire comme hyperviseur.
Peut émuler du matériel ou faire de la délegation
exemples: XEN, KVM, Vmware vSphere</li>
<li>Paravirtualisation
L'hyperviseur n'émule pas du materiel: il delegue au vrai matériel (CPU/GPU)
utilisable avec les instructions spécifiques des CPU
souvent impracticable pour les systèmes non libres
exemples: Vmware Vsphere, XEN, MicrosoP Hyper-V server, KVM</li>
</ul>
<p>#todo</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr #sorbonne</p>
<h1 id="hybride"><a class="header" href="#hybride">Hybride</a></h1>
<hr />
<ul>
<li>Noyau dans l'espace utilisateur
un noyau linux s'exécute comme une application dans le user-space du noyau linux
multi-kernel(linux seulement)
pas de couche d'isolation
exemple: UML (User Mode Linux)
abandonnée</li>
</ul>
<p>#todo</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr #sorbonne #cloud</p>
<h1 id="software-as-a-service-saas"><a class="header" href="#software-as-a-service-saas">Software as a Service (SaaS)</a></h1>
<hr />
<ul>
<li>Accès à un <strong>logiciel</strong> au travers d'une connexion à un serveur distant</li>
<li>L'accès peut être libre ou sur abonnement</li>
<li>exemples: mail service, editeur en ligne, github, etc</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr #sorbonne #cloud</p>
<h1 id="platform-as-a-service-paas"><a class="header" href="#platform-as-a-service-paas">Platform as a Service (PaaS)</a></h1>
<ul>
<li>Le client déploie son application sur l'infrastructure cloud</li>
<li><strong>Le fournisseur fournit les briques logicielles de base</strong>: os, taille de matériel, etc</li>
<li>Le fournisseur maintient la plateforme d'execution: stockage, réseau, etc</li>
<li>Le fournisseur peut fournir des services en plus</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr #sorbonne #cloud</p>
<h1 id="infrastructure-as-a-service-iaas"><a class="header" href="#infrastructure-as-a-service-iaas">Infrastructure as a Service (IaaS)</a></h1>
<hr />
<ul>
<li>Le fournisseur donne accès à des resources informatiques</li>
<li>Accès souvent sous forme de machines virtuelles</li>
<li>Le client installe sa propre pile logicielle sur les ressources obtenues</li>
<li>Possibilité de déployer son propre OS.</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr #sorbonne</p>
<h1 id="glossaire-2"><a class="header" href="#glossaire-2">Glossaire</a></h1>
<hr />
<ul>
<li><strong>le système hôte</strong>. Os principal de l'ordinateur</li>
<li><strong>le système invité</strong>. OS installé à l'interieur d'une machine viruelle.</li>
<li><strong>machine virtuelle (VM)</strong>. <a href="5c1-virtual-machines.html">5c1-virtual-machines</a></li>
<li><strong>virtuel device (VD)</strong>. système embarqué émulé</li>
<li><strong>ordinateur virtuel</strong></li>
<li><strong>hyperviseur</strong>. noyau ultra léger permettant la gestion le monitoring et le diagnostique des VM/VD</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#computers #computerscience #fr #sorbonne</p>
<h1 id="histoire-2"><a class="header" href="#histoire-2">Histoire</a></h1>
<hr />
<ul>
<li>1979 - 1982. UNIX <code>chroot</code> pour UNIX v7 et BSD</li>
<li>1990's. Émulateurs d'Atari, Amiga, NES, SNES</li>
<li>1998-2000. BSD Jail</li>
<li>2000's:
<ul>
<li>VMWare, VirtualBox</li>
<li>Xen, Qemu</li>
<li>Intel VTx</li>
<li>KVM</li>
<li>Linux LXC</li>
<li>Microsoft Hyper-V</li>
<li>Docker</li>
</ul>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#electronics #integratedcircuits</p>
<h1 id="circuit-integré"><a class="header" href="#circuit-integré">Circuit integré</a></h1>
<hr />
<h2 id="communications"><a class="header" href="#communications">communications</a></h2>
<p><a href="5d1-ci-gpio.html">5d1-ci-gpio</a></p>
<p><a href="5d2-ci-i2c.html">5d2-ci-i2c</a></p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><p>#integratedcircuits #protocol #serialport #pin</p>
<h1 id="i2c"><a class="header" href="#i2c">I2C</a></h1>
<hr />
<p>L'Inter-Integrated Circuit (I2C) est un protocole de communication série utilisé pour connecter des composants électroniques sur un même circuit imprimé ou entre différents périphériques.</p>
<ul>
<li>SDA: Serial Data Line</li>
<li>SCL: Serial Clock Line</li>
</ul>
<p><a href="5b1a2a1a-pi-i2c.html">5b1a2a1a-pi-i2c</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><p>#math #es</p>
<h1 id="matemáticas"><a class="header" href="#matemáticas">Matemáticas</a></h1>
<hr />
<p>conjuntos</p>
<p>axiomas</p>
<p>lógica formal</p>
<hr />

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </div>
    </body>
</html>
